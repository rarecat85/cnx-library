# CNX Library 테스트 시나리오

## 📋 테스트 개요

이 문서는 CNX Library의 모든 기능을 검증하기 위한 테스트 시나리오입니다.
테스트 수행 후 각 항목의 결과를 기록하여 시스템의 정상 동작을 확인합니다.

### 테스트 환경

| 항목 | 내용 |
|------|------|
| **테스트 URL** | https://rarecat85.github.io/cnx-library |
| **테스트 일자** | ____년 __월 __일 |
| **테스트 담당자** | ________________ |
| **브라우저** | Chrome / Safari / Edge |

### 결과 표기법

- ✅ 통과 (Pass)
- ❌ 실패 (Fail)
- ⚠️ 부분 통과 (Partial)
- ⏭️ 스킵 (Skip)

---

## 1. 인증 테스트

### 1.1 회원가입

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 1.1.1 | 회원가입 페이지 접근 | 로그인 페이지에서 "회원가입" 클릭 | 회원가입 페이지로 이동 | | |
| 1.1.2 | 필수 입력값 검증 | 빈 폼으로 "가입하기" 클릭 | 필수 입력 오류 메시지 표시 | | |
| 1.1.3 | 이메일 형식 검증 | 잘못된 이메일 형식 입력 (예: "test") | 이메일 형식 오류 메시지 | | |
| 1.1.4 | 비밀번호 확인 불일치 | 비밀번호와 확인이 다르게 입력 | 불일치 오류 메시지 | | |
| 1.1.5 | 정상 회원가입 | 모든 정보 올바르게 입력 후 가입 | 인증 이메일 발송 안내 표시 | | |
| 1.1.6 | 중복 이메일 가입 시도 | 이미 가입된 이메일로 재가입 | "이미 사용 중인 이메일" 오류 | | |

**테스트 데이터:**
```
이메일: test.user@example.com
비밀번호: Test1234!
이름: 테스트유저
근무지: 용산
```

### 1.2 이메일 인증

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 1.2.1 | 인증 이메일 수신 | 회원가입 후 이메일 확인 | Firebase 인증 이메일 수신 | | |
| 1.2.2 | 인증 링크 클릭 | 이메일의 인증 링크 클릭 | verify-email 페이지로 이동 | | |
| 1.2.3 | 인증 완료 처리 | 인증 페이지에서 "인증 완료" 클릭 | 로그인 페이지로 이동, 성공 메시지 | | |
| 1.2.4 | 미인증 상태 로그인 | 이메일 미인증 상태에서 로그인 시도 | "이메일 인증이 완료되지 않았습니다" 오류 | | |
| 1.2.5 | 인증 이메일 재발송 | 로그인 페이지에서 재발송 요청 | 인증 이메일 재발송 | | |

### 1.3 로그인

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 1.3.1 | 정상 로그인 | 올바른 이메일/비밀번호 입력 | 메인 페이지로 이동 | | |
| 1.3.2 | 잘못된 비밀번호 | 틀린 비밀번호 입력 | "비밀번호가 올바르지 않습니다" 오류 | | |
| 1.3.3 | 존재하지 않는 계정 | 미등록 이메일로 로그인 | "등록되지 않은 이메일입니다" 오류 | | |
| 1.3.4 | 자동 로그인 | "로그인 상태 유지" 체크 후 로그인 → 브라우저 닫고 재접속 | 로그인 상태 유지됨 | | |
| 1.3.5 | 로그아웃 | 사이드 메뉴에서 "로그아웃" 클릭 | 로그인 페이지로 이동 | | |

### 1.4 비밀번호 재설정

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 1.4.1 | 비밀번호 찾기 페이지 접근 | 로그인 페이지에서 "비밀번호 찾기" 클릭 | forgot-password 페이지로 이동 | | |
| 1.4.2 | 재설정 이메일 발송 | 가입된 이메일 입력 후 요청 | 비밀번호 재설정 이메일 발송 | | |
| 1.4.3 | 재설정 링크 접속 | 이메일의 재설정 링크 클릭 | reset-password 페이지로 이동 | | |
| 1.4.4 | 새 비밀번호 설정 | 새 비밀번호 입력 후 변경 | 비밀번호 변경 완료, 로그인 페이지 이동 | | |
| 1.4.5 | 변경된 비밀번호로 로그인 | 새 비밀번호로 로그인 | 정상 로그인 | | |

---

## 2. 메인 페이지 테스트

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 2.1 | 페이지 로딩 | 메인 페이지 접속 | 모든 섹션 정상 표시 | | |
| 2.2 | 사용자 이름 표시 | 로그인 후 메인 페이지 확인 | "[이름]님의 도서 대여 현황" 표시 | | |
| 2.3 | 대여 현황 표시 | 대여중인 도서가 있는 상태에서 확인 | 대여중/반납예정/연체중 카운트 정상 | | |
| 2.4 | 베스트셀러 스와이퍼 | 베스트셀러 섹션 확인 | 알라딘 베스트셀러 10권 표시 | | |
| 2.5 | 스와이퍼 네비게이션 | 좌/우 화살표 클릭 | 슬라이드 이동 | | |
| 2.6 | 신규 도서 스와이퍼 | 센터별 신규 도서 섹션 확인 | 최근 등록된 도서 표시 | | |
| 2.7 | 헤더 알림 아이콘 | 알림 벨 아이콘 확인 | 읽지 않은 알림 수 배지 표시 | | |
| 2.8 | 사이드 메뉴 | 햄버거 메뉴 클릭 | 사이드 네비게이션 열림 | | |

---

## 3. 도서 목록 테스트

### 3.1 도서 목록 조회

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 3.1.1 | 도서 목록 페이지 접근 | 메뉴에서 "도서 목록" 클릭 | /books 페이지로 이동 | | |
| 3.1.2 | 센터 필터링 | 센터 선택 드롭다운 변경 | 해당 센터 도서만 표시 | | |
| 3.1.3 | 도서 검색 | 검색창에 도서명 입력 | 검색어와 일치하는 도서 표시 | | |
| 3.1.4 | 정렬 기능 | 정렬 드롭다운 변경 (등록일순/제목순) | 정렬 기준에 따라 목록 재정렬 | | |
| 3.1.5 | 도서 카드 정보 | 도서 카드 확인 | 제목, 저자, 출판사, 상태 표시 | | |
| 3.1.6 | 빈 목록 | 검색 결과 없을 때 | "검색 결과가 없습니다" 메시지 | | |

### 3.2 도서 대여

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 3.2.1 | 같은 센터 도서 대여 | 내 센터 도서의 "대여하기" 클릭 | 대여 확인 팝업 → 대여 완료 | | |
| 3.2.2 | 대여 후 상태 변경 | 대여 완료 후 도서 카드 확인 | "대여중" 상태로 변경 | | |
| 3.2.3 | 다른 센터 도서 대여 신청 | 다른 센터 도서의 "대여 신청" 클릭 | "대여 신청 중" 상태로 변경 | | |
| 3.2.4 | 이미 대여중인 도서 | 대여중인 도서 카드 확인 | 대여 버튼 비활성화 | | |
| 3.2.5 | 대여 중복 방지 | 같은 도서 재대여 시도 | 대여 불가 메시지 | | |

---

## 4. 마이페이지 테스트

### 4.1 내 대여 목록

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 4.1.1 | 마이페이지 접근 | 메뉴에서 "마이페이지" 클릭 | /mypage 페이지로 이동 | | |
| 4.1.2 | 대여중인 도서 표시 | 내 대여 목록 섹션 확인 | 현재 대여중인 도서 목록 | | |
| 4.1.3 | 반납예정일 표시 | 대여 도서 카드 확인 | 반납예정일 표시 (대여일 +7일) | | |
| 4.1.4 | 도서 선택 | 도서 카드 클릭 | 체크박스 선택됨 | | |
| 4.1.5 | 단일 도서 반납 | 1권 선택 후 "반납하기" 클릭 | 반납 확인 → 반납 완료 | | |
| 4.1.6 | 복수 도서 반납 | 여러 권 선택 후 "반납하기" 클릭 | 선택한 모든 도서 반납 완료 | | |

### 4.2 신청한 책 목록

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 4.2.1 | 신청한 책 섹션 표시 | 도서 신청 후 마이페이지 확인 | 스와이퍼로 신청 도서 표시 | | |
| 4.2.2 | 대기중 상태 표시 | 승인 전 도서 확인 | "대기중" 상태 표시 | | |

### 4.3 읽은 책 목록

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 4.3.1 | 읽은 책 목록 표시 | 반납 완료 후 확인 | 반납한 도서가 읽은 책 목록에 추가 | | |
| 4.3.2 | 중복 대여 기록 | 같은 책 재대여 후 반납 | 대여 횟수 증가, 목록에 1개만 표시 | | |
| 4.3.3 | 읽은 책 삭제 | 읽은 책 선택 후 "삭제하기" 클릭 | 목록에서 제거 | | |

### 4.4 정보 수정

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 4.4.1 | 정보수정 페이지 접근 | "정보수정" 버튼 클릭 | /mypage/edit 페이지로 이동 | | |
| 4.4.2 | 현재 정보 표시 | 페이지 로딩 확인 | 현재 이름, 근무지 표시 | | |
| 4.4.3 | 이름 변경 | 이름 수정 후 저장 | 변경 완료 메시지, 마이페이지 반영 | | |
| 4.4.4 | 근무지 변경 | 근무지 선택 변경 후 저장 | 변경 완료, 센터 필터 기본값 변경 | | |

---

## 5. 도서 신청 테스트

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 5.1 | 도서 신청 페이지 접근 | 메뉴에서 "도서 신청" 클릭 | /books/request 페이지로 이동 | | |
| 5.2 | 도서 검색 | 검색창에 도서명 입력 후 검색 | 알라딘 API 검색 결과 표시 | | |
| 5.3 | 검색 결과 표시 | 검색 완료 후 확인 | 도서 목록 스와이퍼 표시 | | |
| 5.4 | 이미 등록된 도서 | 등록된 도서 검색 | "이미 등록된 도서" 표시 | | |
| 5.5 | 도서 신청하기 | 미등록 도서의 "신청하기" 클릭 | 신청 확인 → 신청 완료 메시지 | | |
| 5.6 | 신청 후 상태 | 신청한 도서 재검색 | "신청완료" 상태 표시 | | |
| 5.7 | 세트 상품 필터링 | "세트", "전집" 등 검색 | 세트 상품 제외된 결과 | | |

---

## 6. 관리자 기능 테스트

> ⚠️ 관리자(admin) 또는 매니저(manager) 권한 필요

### 6.1 도서 등록

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 6.1.1 | 관리자 메뉴 접근 | 관리자 계정으로 로그인 후 메뉴 확인 | "관리자 메뉴" 표시 | | |
| 6.1.2 | 도서 등록 페이지 접근 | 관리자 메뉴 > 도서 등록 | /admin/books/register 페이지로 이동 | | |
| 6.1.3 | 도서 검색 | 도서명으로 검색 | 알라딘 검색 결과 표시 | | |
| 6.1.4 | 도서 등록 | 검색된 도서의 "등록하기" 클릭 | 등록 완료 메시지 | | |
| 6.1.5 | 중복 등록 방지 | 이미 등록된 도서 등록 시도 | "이미 등록된 도서" 메시지 | | |
| 6.1.6 | 도서 신청 목록 | 도서 신청 목록 섹션 확인 | 사용자들이 신청한 도서 표시 | | |
| 6.1.7 | 신청자 정보 표시 | 신청 도서 카드 확인 | 신청자 근무지, 이름 표시 | | |
| 6.1.8 | 신청 도서 등록 | 신청 도서의 "등록하기" 클릭 | 등록 완료, 신청자에게 알림 발송 | | |

### 6.2 도서 관리

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 6.2.1 | 도서 관리 페이지 접근 | 관리자 메뉴 > 도서 관리 | /admin/books 페이지로 이동 | | |
| 6.2.2 | 등록 도서 목록 | 등록된 도서 목록 섹션 확인 | 센터별 등록 도서 표시 | | |
| 6.2.3 | 도서 검색 | 검색창에 도서명 입력 | 검색된 도서만 필터링 | | |
| 6.2.4 | 도서 삭제 | 도서 카드의 삭제 버튼 클릭 | 삭제 확인 → 삭제 완료 | | |
| 6.2.5 | 대여중 도서 삭제 시도 | 대여중인 도서 삭제 시도 | 삭제 불가 메시지 | | |
| 6.2.6 | 대여 현황 표시 | 대여중인 도서 카드 확인 | 대여자 정보 (근무지, 이름, 이메일) 표시 | | |
| 6.2.7 | 반납예정일 표시 | 대여중 도서 확인 | 반납예정일 표시 | | |
| 6.2.8 | 관리자 반납 처리 | "반납 처리" 버튼 클릭 | 반납 완료, 상태 변경 | | |
| 6.2.9 | 대여 신청 승인 | 대여 신청 도서의 "승인" 클릭 | 대여 처리 완료 | | |

### 6.3 권한 테스트

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 6.3.1 | 일반 사용자 관리자 메뉴 접근 | 일반 사용자로 /admin/books 직접 접속 | 접근 거부 또는 리다이렉트 | | |
| 6.3.2 | 매니저 권한 확인 | 매니저 계정으로 관리자 메뉴 접근 | 정상 접근 가능 | | |

---

## 7. 알림 테스트

### 7.1 웹 알림

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 7.1.1 | 알림 벨 아이콘 | 헤더의 알림 아이콘 확인 | 읽지 않은 알림 수 배지 표시 | | |
| 7.1.2 | 알림 드롭다운 | 알림 벨 클릭 | 최근 알림 5개 드롭다운 표시 | | |
| 7.1.3 | 알림 페이지 접근 | "전체보기" 또는 메뉴에서 "알림" | /notifications 페이지로 이동 | | |
| 7.1.4 | 알림 목록 표시 | 알림 페이지 확인 | 모든 알림 목록 표시 | | |
| 7.1.5 | 알림 필터 | "읽지 않음" 필터 선택 | 읽지 않은 알림만 표시 | | |
| 7.1.6 | 알림 읽음 처리 | 알림 클릭 | 해당 알림 읽음 처리, 관련 페이지 이동 | | |
| 7.1.7 | 모두 읽음 | "모두 읽음" 버튼 클릭 | 모든 알림 읽음 처리 | | |
| 7.1.8 | 알림 삭제 | 알림의 X 버튼 클릭 | 해당 알림 삭제 | | |

### 7.2 알림 발생 시나리오

| # | 시나리오 | 트리거 액션 | 예상 알림 | 대상 | 결과 |
|---|---------|------------|----------|------|------|
| 7.2.1 | 도서 등록 신청 | 사용자가 도서 신청 | "새로운 도서 등록 신청" | 관리자 | |
| 7.2.2 | 도서 대여 신청 | 사용자가 다른 센터 도서 대여 신청 | "새로운 도서 대여 신청" | 관리자 | |
| 7.2.3 | 신청 도서 등록 | 관리자가 신청 도서 등록 | "신청한 도서가 등록되었습니다" | 신청자 | |
| 7.2.4 | 반납 예정 알림 | 스케줄러 (매일 09:00) | "반납예정일이 내일입니다" | 대여자 | |
| 7.2.5 | 연체 알림 | 스케줄러 (매일 09:00) | "도서가 N일 연체되었습니다" | 대여자/관리자 | |

### 7.3 이메일 알림

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 7.3.1 | 이메일 설정 UI | 알림 페이지 상단 확인 | "이메일로 알림 받기" 토글 표시 | | |
| 7.3.2 | 이메일 알림 활성화 | 토글 ON | 설정 저장, 활성화 메시지 | | |
| 7.3.3 | 이메일 알림 비활성화 | 토글 OFF | 설정 저장, 비활성화 메시지 | | |
| 7.3.4 | 이메일 수신 확인 | 알림 발생 후 이메일 확인 | CNX Library 이메일 수신 | | |
| 7.3.5 | 이메일 링크 확인 | 이메일의 "바로가기" 링크 클릭 | GitHub Pages URL로 이동 | | |

---

## 8. UI/UX 테스트

### 8.1 반응형 테스트

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 8.1.1 | 모바일 뷰 (360px) | 브라우저 너비 360px로 조정 | 모든 요소 정상 표시, 가로 스크롤 없음 | | |
| 8.1.2 | 태블릿 뷰 (768px) | 브라우저 너비 768px로 조정 | 레이아웃 적절히 조정됨 | | |
| 8.1.3 | 데스크탑 뷰 (1024px+) | 브라우저 너비 1024px 이상 | 최대 768px 컨테이너 중앙 정렬 | | |
| 8.1.4 | 도서 카드 그리드 | 모바일/데스크탑 전환 | 1열 ↔ 2열 전환 | | |
| 8.1.5 | 사이드 메뉴 | 모바일에서 메뉴 열기 | 전체 너비 280px, 우측에서 슬라이드 | | |

### 8.2 로딩 상태

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 8.2.1 | 페이지 로딩 | 페이지 새로고침 | 로딩 인디케이터 표시 | | |
| 8.2.2 | 도서 검색 로딩 | 도서 검색 실행 | 검색 중 로딩 표시 | | |
| 8.2.3 | 버튼 로딩 | 대여/반납 버튼 클릭 | 버튼에 로딩 스피너 표시 | | |

### 8.3 에러 상태

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 8.3.1 | 네트워크 오류 | 오프라인 상태에서 작업 | 오류 메시지 표시 | | |
| 8.3.2 | 빈 목록 | 검색 결과 없을 때 | 적절한 빈 상태 메시지 | | |
| 8.3.3 | 폼 유효성 오류 | 잘못된 입력 제출 | 필드별 오류 메시지 표시 | | |

---

## 9. 성능 테스트

| # | 테스트 항목 | 테스트 방법 | 기준 | 결과 | 비고 |
|---|------------|------------|------|------|------|
| 9.1 | 초기 로딩 시간 | 메인 페이지 첫 로딩 | 3초 이내 | | |
| 9.2 | 페이지 전환 | 페이지 간 이동 | 1초 이내 | | |
| 9.3 | 도서 검색 응답 | 알라딘 API 검색 | 2초 이내 | | |
| 9.4 | 대여/반납 처리 | Firestore 업데이트 | 1초 이내 | | |

---

## 10. 데이터 정합성 테스트

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 10.1 | 대여 후 상태 동기화 | 대여 완료 후 다른 브라우저에서 확인 | 즉시 "대여중" 상태 반영 | | |
| 10.2 | 반납 후 상태 동기화 | 반납 완료 후 다른 브라우저에서 확인 | 즉시 "대여가능" 상태 반영 | | |
| 10.3 | 알림 실시간 수신 | 알림 발생 후 다른 탭에서 확인 | 새로고침 없이 알림 배지 업데이트 | | |
| 10.4 | 읽은 책 중복 방지 | 같은 책 여러 번 대여/반납 | 읽은 책 목록에 1개만 표시 | | |

---

## 11. 보안 테스트

| # | 테스트 항목 | 테스트 방법 | 예상 결과 | 결과 | 비고 |
|---|------------|------------|----------|------|------|
| 11.1 | 비로그인 페이지 접근 | 로그아웃 상태로 /mypage 접근 | 로그인 페이지로 리다이렉트 | | |
| 11.2 | 다른 사용자 알림 접근 | Firestore 직접 쿼리 시도 | 자신의 알림만 조회 가능 | | |
| 11.3 | 권한 없는 도서 삭제 | 일반 사용자가 삭제 API 호출 | 권한 오류 | | |

---

## 12. 크로스 브라우저 테스트

| 브라우저 | 버전 | 테스트 결과 | 비고 |
|---------|------|------------|------|
| Chrome | 최신 | | |
| Safari | 최신 | | |
| Edge | 최신 | | |
| Firefox | 최신 | | |
| Mobile Safari (iOS) | 최신 | | |
| Chrome (Android) | 최신 | | |

---

## 📝 테스트 결과 요약

### 총괄 결과

| 구분 | 통과 | 실패 | 부분통과 | 스킵 | 합계 |
|------|------|------|---------|------|------|
| 인증 테스트 | | | | | 19 |
| 메인 페이지 | | | | | 8 |
| 도서 목록 | | | | | 11 |
| 마이페이지 | | | | | 14 |
| 도서 신청 | | | | | 7 |
| 관리자 기능 | | | | | 12 |
| 알림 | | | | | 16 |
| UI/UX | | | | | 11 |
| 성능 | | | | | 4 |
| 데이터 정합성 | | | | | 4 |
| 보안 | | | | | 3 |
| **합계** | | | | | **109** |

### 발견된 이슈

| # | 심각도 | 테스트 ID | 이슈 내용 | 재현 방법 | 상태 |
|---|--------|----------|----------|----------|------|
| 1 | | | | | |
| 2 | | | | | |
| 3 | | | | | |

### 테스트 완료 서명

| 역할 | 이름 | 서명 | 일자 |
|------|------|------|------|
| 테스터 | | | |
| 개발자 | | | |
| PM | | | |

---

## 📌 참고사항

1. 테스트 전 캐시 및 쿠키를 삭제하고 시작하세요.
2. 각 테스트는 독립적으로 수행 가능해야 합니다.
3. 실패한 테스트는 즉시 이슈로 등록하세요.
4. 스크린샷이 필요한 경우 별도 폴더에 저장하세요.

