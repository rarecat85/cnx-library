import{_ as G}from"./Dt_Fhjex.js";import{_ as J,W as Q,a as j}from"./BlcQiFAW.js";import{F as q,u as Y,r as l,R as Z,O as R,L as r,g as d,H as V,K as s,I as a,S as ee,T as I,P as t,Q as _,M as L,J as N,G as te}from"./Wzj57vfv.js";import{u as ne}from"./Dr-Fj6X7.js";import{s as oe}from"./CQlUq1VM.js";import{u as le}from"./NTdl-an9.js";const se={key:0,class:"countdown-text mt-2"},ae={class:"auth-links text-center mt-4"},ie={class:"logo-bottom text-center mt-6"},re={class:"logo-with-credit"},ue={__name:"signup",setup(de){const{signup:U,loading:i}=ne(),S=Y(),c=l(""),m=l(""),u=l(""),g=l(""),p=l(""),v=l(""),f=l(""),C=l(),y=l(!1),w=l(!1),b=l(0);let k=null;const B=[...Q],M=[n=>!!n||"이름을 입력해주세요"],$=[n=>!!n||"이메일을 입력해주세요",n=>/.+@concentrix\.com$/.test(n)||"@concentrix.com 이메일만 사용 가능합니다"],F=[n=>!!n||"비밀번호를 입력해주세요",n=>n&&n.length>=6||"비밀번호는 6자 이상이어야 합니다"],O=[n=>!!n||"비밀번호 확인을 입력해주세요",n=>n===u.value||"비밀번호가 일치하지 않습니다"],h=[n=>!!n||"근무지를 선택해주세요"],A=async()=>{v.value="",f.value="";const{valid:n}=await C.value.validate();if(!n)return;const e=await U(m.value,u.value,c.value,p.value);e.success?(f.value="회원가입이 완료되었습니다. 이메일을 확인하여 인증을 완료해주세요.",c.value="",m.value="",u.value="",g.value="",p.value="",C.value.resetValidation(),E()):v.value=e.error||"회원가입에 실패했습니다."},E=()=>{b.value=5,k=oe(()=>{b.value--,b.value<=0&&(clearInterval(k),S.push("/login"))},1e3)};return Z(()=>{k&&clearInterval(k)}),le({title:"회원가입 - CNX Library",link:[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap"}]}),(n,e)=>{const x=d("v-text-field"),H=d("v-select"),P=d("v-alert"),K=d("v-btn"),T=d("v-form"),W=G,X=j,z=J,D=d("v-app");return V(),R(D,null,{default:r(()=>[s(z,null,{default:r(()=>[e[11]||(e[11]=a("div",{class:"text-center mb-8"},[a("h1",{class:"login-title mb-2"}," CNX Library "),a("p",{class:"login-subtitle"}," 회원가입 ")],-1)),s(T,{ref_key:"signupForm",ref:C,"validate-on":"submit",onSubmit:ee(A,["prevent"])},{default:r(()=>[s(x,{modelValue:t(c),"onUpdate:modelValue":e[0]||(e[0]=o=>_(c)?c.value=o:null),label:"이름","prepend-inner-icon":"mdi-account-outline",variant:"outlined",rules:M,disabled:t(i),class:"mb-2",density:"comfortable"},null,8,["modelValue","disabled"]),s(x,{modelValue:t(m),"onUpdate:modelValue":e[1]||(e[1]=o=>_(m)?m.value=o:null),label:"이메일",type:"email","prepend-inner-icon":"mdi-email-outline",variant:"outlined",rules:$,disabled:t(i),class:"mb-2",density:"comfortable"},null,8,["modelValue","disabled"]),s(x,{modelValue:t(u),"onUpdate:modelValue":e[2]||(e[2]=o=>_(u)?u.value=o:null),label:"비밀번호",type:t(y)?"text":"password","prepend-inner-icon":"mdi-lock-outline","append-inner-icon":t(y)?"mdi-eye-off-outline":"mdi-eye-outline",variant:"outlined",rules:F,disabled:t(i),class:"mb-2",density:"comfortable","onClick:appendInner":e[3]||(e[3]=o=>y.value=!t(y))},null,8,["modelValue","type","append-inner-icon","disabled"]),s(x,{modelValue:t(g),"onUpdate:modelValue":e[4]||(e[4]=o=>_(g)?g.value=o:null),label:"비밀번호 확인",type:t(w)?"text":"password","prepend-inner-icon":"mdi-lock-check-outline","append-inner-icon":t(w)?"mdi-eye-off-outline":"mdi-eye-outline",variant:"outlined",rules:O,disabled:t(i),class:"mb-2",density:"comfortable","onClick:appendInner":e[5]||(e[5]=o=>w.value=!t(w))},null,8,["modelValue","type","append-inner-icon","disabled"]),s(H,{modelValue:t(p),"onUpdate:modelValue":e[6]||(e[6]=o=>_(p)?p.value=o:null),label:"근무지",items:B,"prepend-inner-icon":"mdi-office-building-outline",variant:"outlined",rules:h,disabled:t(i),class:"mb-2",density:"comfortable"},null,8,["modelValue","disabled"]),t(v)?(V(),R(P,{key:0,type:"error",variant:"tonal",closable:"",class:"error-alert mb-4","onClick:close":e[7]||(e[7]=o=>v.value="")},{default:r(()=>[L(N(t(v)),1)]),_:1})):I("",!0),t(f)?(V(),R(P,{key:1,type:"success",variant:"tonal",class:"success-alert mb-4"},{default:r(()=>[a("div",null,N(t(f)),1),t(b)>0?(V(),te("div",se,N(t(b))+"초 뒤 로그인 페이지로 이동합니다. ",1)):I("",!0)]),_:1})):I("",!0),s(K,{type:"submit",block:"",size:"large",loading:t(i),disabled:t(i)||!!t(f),class:"signup-btn",elevation:"2"},{default:r(()=>[...e[8]||(e[8]=[L(" 회원가입 ",-1)])]),_:1},8,["loading","disabled"])]),_:1},512),a("div",ae,[s(W,{to:"/login",class:"auth-link"},{default:r(()=>[...e[9]||(e[9]=[L("로그인",-1)])]),_:1})]),a("div",ie,[a("div",re,[s(X),e[10]||(e[10]=a("span",{class:"credit-text"},"© rarecat",-1))])])]),_:1})]),_:1})}}},_e=q(ue,[["__scopeId","data-v-32da4a5a"]]);export{_e as default};
