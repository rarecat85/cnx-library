import{F as B,u as I,N as P,r as w,o as V,G as c,I as e,K as r,L as n,P as F,W as H,X as K,g as _,H as d,M as i,J as a,af as R,S as X}from"./Czkv2xNP.js";import{u as j}from"./BH2eV60b.js";import{u as E}from"./DggQxSLg.js";import"./DUWLtFLL.js";const G={class:"sessions-page"},J={class:"create-section"},W={class:"sessions-section"},q={key:0,class:"text-center py-8"},A={key:1,class:"empty-state"},O={key:2,class:"sessions-list"},Q=["onClick"],U={class:"session-info"},Y={class:"session-header"},Z={class:"session-date"},tt={class:"session-tester"},st={class:"session-progress"},et={class:"progress-bar"},ot={class:"progress-stats"},rt={class:"stat pass"},at={class:"stat fail"},nt={class:"stat partial"},it={class:"stat skip"},lt={class:"stat total"},ct={class:"session-actions"},dt={__name:"index",setup(pt){j({title:"í…ŒìŠ¤íŠ¸ ì„¸ì…˜ ê´€ë¦¬ - CNX Library"});const v=I(),{confirm:k,alert:p}=P(),{createSession:S,getSessions:x,deleteSession:D,loading:b}=E(),g=w(!1),m=w([]);V(async()=>{await y()});const y=async()=>{try{m.value=await x()}catch(t){console.error("ì„¸ì…˜ ëª©ë¡ ë¡œë“œ ì˜¤ë¥˜:",t),await p("ì„¸ì…˜ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",{type:"error"})}},f=t=>t.testers&&t.testers.length>0?t.testers.join(", "):t.tester?t.tester:"(ë‹´ë‹¹ì ë¯¸ì…ë ¥)",C=async()=>{try{g.value=!0;const t=await S({testers:[],testDate:new Date});v.push(`/test-scenario/sessions/${t.id}`)}catch(t){console.error("ì„¸ì…˜ ìƒì„± ì˜¤ë¥˜:",t),await p("ì„¸ì…˜ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",{type:"error"})}finally{g.value=!1}},$=async t=>{const s=f(t)!=="(ë‹´ë‹¹ì ë¯¸ì…ë ¥)"?`"${f(t)}"ì˜ `:"";if(await k(`${s}${h(t.testDate)} í…ŒìŠ¤íŠ¸ ì„¸ì…˜ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?

ëª¨ë“  í…ŒìŠ¤íŠ¸ ê²°ê³¼ê°€ í•¨ê»˜ ì‚­ì œë©ë‹ˆë‹¤.`,{type:"warning"}))try{await D(t.id),await y(),await p("í…ŒìŠ¤íŠ¸ ì„¸ì…˜ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.",{type:"success"})}catch(u){console.error("ì„¸ì…˜ ì‚­ì œ ì˜¤ë¥˜:",u),await p("ì„¸ì…˜ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",{type:"error"})}},z=t=>{v.push(`/test-scenario/sessions/${t}`)},h=t=>t?(t?.toDate?.()||new Date(t)).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}):"",N=t=>t.progress?.total?Math.round(t.progress.completed/t.progress.total*100):0;return(t,s)=>{const l=_("v-icon"),u=_("v-btn"),L=_("v-progress-circular"),M=_("v-chip");return d(),c("div",G,[s[8]||(s[8]=e("div",{class:"page-header"},[e("h1",null,"ğŸ“‹ í…ŒìŠ¤íŠ¸ ì„¸ì…˜ ê´€ë¦¬"),e("p",{class:"subtitle"},"í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¥¼ ê¸°ë¡í•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤.")],-1)),e("div",J,[r(u,{color:"primary",variant:"flat",size:"large",loading:g.value,class:"create-btn",onClick:C},{default:n(()=>[r(l,{left:""},{default:n(()=>[...s[0]||(s[0]=[i(" mdi-plus ",-1)])]),_:1}),s[1]||(s[1]=i(" í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ìƒì„± ",-1))]),_:1},8,["loading"])]),e("div",W,[F(b)?(d(),c("div",q,[r(L,{indeterminate:"",color:"primary"})])):m.value.length===0?(d(),c("div",A,[r(l,{size:"64",color:"grey-lighten-1"},{default:n(()=>[...s[2]||(s[2]=[i(" mdi-clipboard-text-outline ",-1)])]),_:1}),s[3]||(s[3]=e("p",null,"ìƒì„±ëœ í…ŒìŠ¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.",-1)),s[4]||(s[4]=e("p",{class:"text-caption"},' "í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ìƒì„±" ë²„íŠ¼ì„ ëˆŒëŸ¬ ìƒˆ í…ŒìŠ¤íŠ¸ë¥¼ ì‹œì‘í•˜ì„¸ìš”. ',-1))])):(d(),c("div",O,[(d(!0),c(H,null,K(m.value,o=>(d(),c("div",{key:o.id,class:"session-card",onClick:T=>z(o.id)},[e("div",U,[e("div",Y,[e("span",Z,a(h(o.testDate)),1),r(M,{color:o.status==="completed"?"success":"warning",size:"small",class:"status-chip"},{default:n(()=>[i(a(o.status==="completed"?"ì™„ë£Œ":"ì§„í–‰ì¤‘"),1)]),_:2},1032,["color"])]),e("div",tt,[r(l,{size:"16",class:"mr-1"},{default:n(()=>[...s[5]||(s[5]=[i(" mdi-account ",-1)])]),_:1}),i(" "+a(f(o)),1)]),e("div",st,[e("div",et,[e("div",{class:"progress-fill",style:R({width:N(o)+"%"})},null,4)]),e("div",ot,[e("span",rt,"âœ… "+a(o.progress?.pass||0),1),e("span",at,"âŒ "+a(o.progress?.fail||0),1),e("span",nt,"âš ï¸ "+a(o.progress?.partial||0),1),e("span",it,"â­ï¸ "+a(o.progress?.skip||0),1),e("span",lt,a(o.progress?.completed||0)+"/"+a(o.progress?.total||0),1)])])]),e("div",ct,[r(u,{icon:"",variant:"text",size:"small",color:"error",onClick:X(T=>$(o),["stop"])},{default:n(()=>[r(l,null,{default:n(()=>[...s[6]||(s[6]=[i("mdi-delete-outline",-1)])]),_:1})]),_:1},8,["onClick"]),r(l,{color:"grey"},{default:n(()=>[...s[7]||(s[7]=[i(" mdi-chevron-right ",-1)])]),_:1})])],8,Q))),128))]))]),s[9]||(s[9]=e("div",{class:"page-footer"},[e("p",null,"ğŸ”’ ì´ í˜ì´ì§€ëŠ” ìˆ¨ê²¨ì§„ í˜ì´ì§€ì…ë‹ˆë‹¤.")],-1))])}}},ft=B(dt,[["__scopeId","data-v-bbdba6f9"]]);export{ft as default};
