import{_ as j}from"./DCDh3Pny.js";import{_ as q,W as Y,a as Z}from"./p5I-y40Z.js";import{F as ee,u as te,r as l,ap as ne,O as R,L as r,g as u,H as c,K as s,I as i,R as oe,S as L,P as t,Q as g,M as C,J as N,G as P,V as S}from"./CG08WoBJ.js";import{u as le}from"./DSZ-MrWw.js";import{u as se}from"./BksfjWxy.js";const ae=globalThis.setInterval,ie={key:0,class:"countdown-text mt-2"},re={class:"auth-links text-center mt-4"},ue={class:"logo-bottom text-center mt-6"},de={class:"logo-with-credit"},ce={__name:"signup",setup(me){const{signup:h,loading:a}=le(),B=te(),m=l(""),p=l(""),d=l(""),y=l(""),v=l(""),f=l(""),_=l(""),I=l(),w=l(!1),k=l(!1),b=l(0);let x=null;const F=[...Y],M=[n=>!!n||"이름을 입력해주세요"],$=[n=>!!n||"이메일을 입력해주세요",n=>/.+@concentrix\.com$/.test(n)||"@concentrix.com 이메일만 사용 가능합니다"],O=[n=>!!n||"비밀번호를 입력해주세요",n=>n&&n.length>=6||"비밀번호는 6자 이상이어야 합니다"],z=[n=>!!n||"비밀번호 확인을 입력해주세요",n=>n===d.value||"비밀번호가 일치하지 않습니다"],A=[n=>!!n||"근무지를 선택해주세요"],E=async()=>{f.value="",_.value="";const{valid:n}=await I.value.validate();if(!n)return;const e=await h(p.value,d.value,m.value,v.value);e.success?(_.value="회원가입이 완료되었습니다. 이메일을 확인하여 인증을 완료해주세요.",m.value="",p.value="",d.value="",y.value="",v.value="",I.value.resetValidation(),H()):f.value=e.error||"회원가입에 실패했습니다."},H=()=>{b.value=5,x=ae(()=>{b.value--,b.value<=0&&(clearInterval(x),B.push("/login"))},1e3)};return ne(()=>{x&&clearInterval(x)}),se({title:"회원가입 - CNX Library",link:[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap"}]}),(n,e)=>{const V=u("v-text-field"),K=u("v-select"),U=u("v-alert"),T=u("v-progress-circular"),W=u("v-btn"),X=u("v-form"),D=j,G=Z,J=q,Q=u("v-app");return c(),R(Q,null,{default:r(()=>[s(J,null,{default:r(()=>[e[11]||(e[11]=i("div",{class:"text-center mb-8"},[i("h1",{class:"login-title mb-2"}," CNX Library "),i("p",{class:"login-subtitle"}," 회원가입 ")],-1)),s(X,{ref_key:"signupForm",ref:I,"validate-on":"submit",onSubmit:oe(E,["prevent"])},{default:r(()=>[s(V,{modelValue:t(m),"onUpdate:modelValue":e[0]||(e[0]=o=>g(m)?m.value=o:null),label:"이름","prepend-inner-icon":"mdi-account-outline",variant:"outlined",rules:M,disabled:t(a),class:"mb-2",density:"comfortable"},null,8,["modelValue","disabled"]),s(V,{modelValue:t(p),"onUpdate:modelValue":e[1]||(e[1]=o=>g(p)?p.value=o:null),label:"이메일",type:"email","prepend-inner-icon":"mdi-email-outline",variant:"outlined",rules:$,disabled:t(a),class:"mb-2",density:"comfortable"},null,8,["modelValue","disabled"]),s(V,{modelValue:t(d),"onUpdate:modelValue":e[2]||(e[2]=o=>g(d)?d.value=o:null),label:"비밀번호",type:t(w)?"text":"password","prepend-inner-icon":"mdi-lock-outline","append-inner-icon":t(w)?"mdi-eye-off-outline":"mdi-eye-outline",variant:"outlined",rules:O,disabled:t(a),class:"mb-2",density:"comfortable","onClick:appendInner":e[3]||(e[3]=o=>w.value=!t(w))},null,8,["modelValue","type","append-inner-icon","disabled"]),s(V,{modelValue:t(y),"onUpdate:modelValue":e[4]||(e[4]=o=>g(y)?y.value=o:null),label:"비밀번호 확인",type:t(k)?"text":"password","prepend-inner-icon":"mdi-lock-check-outline","append-inner-icon":t(k)?"mdi-eye-off-outline":"mdi-eye-outline",variant:"outlined",rules:z,disabled:t(a),class:"mb-2",density:"comfortable","onClick:appendInner":e[5]||(e[5]=o=>k.value=!t(k))},null,8,["modelValue","type","append-inner-icon","disabled"]),s(K,{modelValue:t(v),"onUpdate:modelValue":e[6]||(e[6]=o=>g(v)?v.value=o:null),label:"근무지",items:F,"prepend-inner-icon":"mdi-office-building-outline",variant:"outlined",rules:A,disabled:t(a),class:"mb-2",density:"comfortable"},null,8,["modelValue","disabled"]),t(f)?(c(),R(U,{key:0,type:"error",variant:"tonal",closable:"",class:"error-alert mb-4","onClick:close":e[7]||(e[7]=o=>f.value="")},{default:r(()=>[C(N(t(f)),1)]),_:1})):L("",!0),t(_)?(c(),R(U,{key:1,type:"success",variant:"tonal",class:"success-alert mb-4"},{default:r(()=>[i("div",null,N(t(_)),1),t(b)>0?(c(),P("div",ie,N(t(b))+"초 뒤 로그인 페이지로 이동합니다. ",1)):L("",!0)]),_:1})):L("",!0),s(W,{type:"submit",block:"",size:"large",loading:t(a),disabled:t(a)||t(_),class:"signup-btn",elevation:"2"},{default:r(()=>[t(a)?(c(),P(S,{key:0},[s(T,{indeterminate:"",size:"20",width:"2",class:"mr-2"}),e[8]||(e[8]=C(" 처리 중... ",-1))],64)):(c(),P(S,{key:1},[C(" 회원가입 ")],64))]),_:1},8,["loading","disabled"])]),_:1},512),i("div",re,[s(D,{to:"/login",class:"auth-link"},{default:r(()=>[...e[9]||(e[9]=[C("로그인",-1)])]),_:1})]),i("div",ue,[i("div",de,[s(G),e[10]||(e[10]=i("span",{class:"credit-text"},"© rarecat",-1))])])]),_:1})]),_:1})}}},ge=ee(ce,[["__scopeId","data-v-9b5a5fa0"]]);export{ge as default};
