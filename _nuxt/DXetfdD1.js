const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D3YUa0Cc.js","./entry.DYRcaxkF.css"])))=>i.map(i=>d[i]);
import{F as b,D,a as y,r as N,X as L,g as V,G as f,H as p,I as s,K as o,S as A,L as e,M as i,P as B,_ as E}from"./D3YUa0Cc.js";import{a as F}from"./CJEW9Xdq.js";import{_ as I}from"./BtPLMiox.js";import{u as P}from"./CRJr_llW.js";const R={class:"side-navigation-menu"},S={class:"menu-header"},T={class:"menu-list"},q={class:"menu-section"},G={key:0,class:"menu-section admin-section"},H={class:"menu-section"},K={__name:"SideNavigation",setup(M){const c=D("navigationDrawer",()=>!1),{logout:v,user:m}=P(),{$firebaseFirestore:k}=y(),_=k,u=N(!1),g=async()=>{if(!m.value||!_){u.value=!1;return}try{const{doc:r,getDoc:t}=await E(async()=>{const{doc:n,getDoc:C}=await import("./D3YUa0Cc.js").then(w=>w.aF);return{doc:n,getDoc:C}},__vite__mapDeps([0,1]),import.meta.url),d=r(_,"users",m.value.uid),a=await t(d);if(a.exists()){const n=a.data();u.value=n.role==="admin"||n.role==="manager"}else u.value=!1}catch(r){console.error("사용자 권한 확인 실패:",r),u.value=!1}};L(()=>m.value,async r=>{r?await g():u.value=!1},{immediate:!0});const l=()=>{c.value=!1},x=async()=>{await v(),l()};return(r,t)=>{const d=F,a=V("v-icon"),n=I;return p(),f("div",R,[s("div",S,[o(d)]),s("nav",T,[s("div",q,[o(n,{to:"/",class:"menu-item",onClick:l},{default:e(()=>[o(a,null,{default:e(()=>[...t[0]||(t[0]=[i("mdi-home",-1)])]),_:1}),t[1]||(t[1]=s("span",null,"홈",-1))]),_:1}),o(n,{to:"/books",class:"menu-item",onClick:l},{default:e(()=>[o(a,null,{default:e(()=>[...t[2]||(t[2]=[i("mdi-book-open-variant",-1)])]),_:1}),t[3]||(t[3]=s("span",null,"도서 대여",-1))]),_:1}),o(n,{to:"/books/request",class:"menu-item",onClick:l},{default:e(()=>[o(a,null,{default:e(()=>[...t[4]||(t[4]=[i("mdi-book-plus",-1)])]),_:1}),t[5]||(t[5]=s("span",null,"도서 신청",-1))]),_:1}),o(n,{to:"/mypage",class:"menu-item",onClick:l},{default:e(()=>[o(a,null,{default:e(()=>[...t[6]||(t[6]=[i("mdi-account",-1)])]),_:1}),t[7]||(t[7]=s("span",null,"마이페이지",-1))]),_:1})]),B(u)?(p(),f("div",G,[t[12]||(t[12]=s("div",{class:"menu-section-title"}," 관리자 ",-1)),o(n,{to:"/admin/books",class:"menu-item",onClick:l},{default:e(()=>[o(a,null,{default:e(()=>[...t[8]||(t[8]=[i("mdi-book-edit",-1)])]),_:1}),t[9]||(t[9]=s("span",null,"도서 관리",-1))]),_:1}),o(n,{to:"/admin/books/register",class:"menu-item",onClick:l},{default:e(()=>[o(a,null,{default:e(()=>[...t[10]||(t[10]=[i("mdi-book-plus",-1)])]),_:1}),t[11]||(t[11]=s("span",null,"도서 등록",-1))]),_:1})])):A("",!0),s("div",H,[s("div",{class:"menu-item logout-item",onClick:x},[o(a,null,{default:e(()=>[...t[13]||(t[13]=[i("mdi-logout",-1)])]),_:1}),t[14]||(t[14]=s("span",null,"로그아웃",-1))])])])])}}},j=b(K,[["__scopeId","data-v-9673d211"]]);export{j as _};
