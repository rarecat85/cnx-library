import{_ as D}from"./D8OVkwJr.js";import{_ as E,W as J,a as Q}from"./Bi71xubJ.js";import{F as T,u as h,r as l,O as k,L as i,g as d,H as C,K as s,I as r,R as j,S as L,P as t,Q as f,M as x,J as N}from"./Bb-IZLVQ.js";import{u as q}from"./DU0bEG_V.js";import{u as G}from"./D0YV89OB.js";const Y={class:"auth-links text-center mt-4"},Z={class:"logo-bottom text-center mt-6"},ee={class:"logo-with-credit"},te={__name:"signup",setup(oe){const{signup:P,loading:a}=q();h();const c=l(""),p=l(""),u=l(""),b=l(""),m=l(""),v=l(""),_=l(""),V=l(),g=l(!1),y=l(!1),S=[...J],U=[o=>!!o||"이름을 입력해주세요"],I=[o=>!!o||"이메일을 입력해주세요",o=>/.+@concentrix\.com$/.test(o)||"@concentrix.com 이메일만 사용 가능합니다"],M=[o=>!!o||"비밀번호를 입력해주세요",o=>o&&o.length>=6||"비밀번호는 6자 이상이어야 합니다"],$=[o=>!!o||"비밀번호 확인을 입력해주세요",o=>o===u.value||"비밀번호가 일치하지 않습니다"],B=[o=>!!o||"근무지를 선택해주세요"],F=async()=>{v.value="",_.value="";const{valid:o}=await V.value.validate();if(!o)return;const e=await P(p.value,u.value,c.value,m.value);e.success?(_.value="회원가입이 완료되었습니다. 이메일을 확인하여 인증을 완료해주세요.",c.value="",p.value="",u.value="",b.value="",m.value="",V.value.resetValidation()):v.value=e.error||"회원가입에 실패했습니다."};return G({title:"회원가입 - CNX Library",link:[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap"}]}),(o,e)=>{const w=d("v-text-field"),O=d("v-select"),R=d("v-alert"),A=d("v-btn"),H=d("v-form"),K=D,W=Q,X=E,z=d("v-app");return C(),k(z,null,{default:i(()=>[s(X,null,{default:i(()=>[e[11]||(e[11]=r("div",{class:"text-center mb-8"},[r("h1",{class:"login-title mb-2"}," CNX Library "),r("p",{class:"login-subtitle"}," 회원가입 ")],-1)),s(H,{ref_key:"signupForm",ref:V,"validate-on":"submit",onSubmit:j(F,["prevent"])},{default:i(()=>[s(w,{modelValue:t(c),"onUpdate:modelValue":e[0]||(e[0]=n=>f(c)?c.value=n:null),label:"이름","prepend-inner-icon":"mdi-account-outline",variant:"outlined",rules:U,disabled:t(a),class:"mb-2",density:"comfortable"},null,8,["modelValue","disabled"]),s(w,{modelValue:t(p),"onUpdate:modelValue":e[1]||(e[1]=n=>f(p)?p.value=n:null),label:"이메일",type:"email","prepend-inner-icon":"mdi-email-outline",variant:"outlined",rules:I,disabled:t(a),class:"mb-2",density:"comfortable"},null,8,["modelValue","disabled"]),s(w,{modelValue:t(u),"onUpdate:modelValue":e[2]||(e[2]=n=>f(u)?u.value=n:null),label:"비밀번호",type:t(g)?"text":"password","prepend-inner-icon":"mdi-lock-outline","append-inner-icon":t(g)?"mdi-eye-off-outline":"mdi-eye-outline",variant:"outlined",rules:M,disabled:t(a),class:"mb-2",density:"comfortable","onClick:appendInner":e[3]||(e[3]=n=>g.value=!t(g))},null,8,["modelValue","type","append-inner-icon","disabled"]),s(w,{modelValue:t(b),"onUpdate:modelValue":e[4]||(e[4]=n=>f(b)?b.value=n:null),label:"비밀번호 확인",type:t(y)?"text":"password","prepend-inner-icon":"mdi-lock-check-outline","append-inner-icon":t(y)?"mdi-eye-off-outline":"mdi-eye-outline",variant:"outlined",rules:$,disabled:t(a),class:"mb-2",density:"comfortable","onClick:appendInner":e[5]||(e[5]=n=>y.value=!t(y))},null,8,["modelValue","type","append-inner-icon","disabled"]),s(O,{modelValue:t(m),"onUpdate:modelValue":e[6]||(e[6]=n=>f(m)?m.value=n:null),label:"근무지",items:S,"prepend-inner-icon":"mdi-office-building-outline",variant:"outlined",rules:B,disabled:t(a),class:"mb-2",density:"comfortable"},null,8,["modelValue","disabled"]),t(v)?(C(),k(R,{key:0,type:"error",variant:"tonal",closable:"",class:"error-alert mb-4","onClick:close":e[7]||(e[7]=n=>v.value="")},{default:i(()=>[x(N(t(v)),1)]),_:1})):L("",!0),t(_)?(C(),k(R,{key:1,type:"success",variant:"tonal",class:"success-alert mb-4"},{default:i(()=>[x(N(t(_)),1)]),_:1})):L("",!0),s(A,{type:"submit",block:"",size:"large",loading:t(a),disabled:t(a),class:"signup-btn",elevation:"2"},{default:i(()=>[...e[8]||(e[8]=[x(" 회원가입 ",-1)])]),_:1},8,["loading","disabled"])]),_:1},512),r("div",Y,[s(K,{to:"/login",class:"auth-link"},{default:i(()=>[...e[9]||(e[9]=[x("로그인",-1)])]),_:1})]),r("div",Z,[r("div",ee,[s(W),e[10]||(e[10]=r("span",{class:"credit-text"},"© rarecat",-1))])])]),_:1})]),_:1})}}},re=T(te,[["__scopeId","data-v-24702fe7"]]);export{re as default};
