import{_ as M}from"./D-dwZDKr.js";import{_ as S,a as B}from"./ZWYCtuu7.js";import{F,u as E,r as u,O as p,L as o,g as i,H as f,K as n,I as s,R as H,S as b,P as e,Q as I,M as d,J as x}from"./r35rfKyc.js";import{u as X}from"./DmLlqz6Z.js";import{u as $}from"./DIODFKFe.js";const z={class:"auth-links text-center mt-4"},A={class:"logo-bottom text-center mt-6"},D={class:"logo-with-credit"},J={__name:"forgot-password",setup(K){const{sendPasswordResetEmail:y,loading:m}=X();E();const l=u(""),r=u(""),c=u(""),_=u(),w=[a=>!!a||"이메일을 입력해주세요",a=>/.+@concentrix\.com$/.test(a)||"@concentrix.com 이메일만 사용 가능합니다"],k=async()=>{r.value="",c.value="";const{valid:a}=await _.value.validate();if(!a)return;const t=await y(l.value);t.success?(c.value="비밀번호 재설정 이메일이 발송되었습니다. 이메일을 확인해주세요.",l.value="",_.value.resetValidation()):r.value=t.error||"이메일 발송에 실패했습니다."};return $({title:"비밀번호 찾기 - CNX Library",link:[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap"}]}),(a,t)=>{const h=i("v-text-field"),v=i("v-alert"),V=i("v-btn"),C=i("v-form"),N=M,L=B,P=S,R=i("v-app");return f(),p(R,null,{default:o(()=>[n(P,null,{default:o(()=>[t[5]||(t[5]=s("div",{class:"text-center mb-8"},[s("h1",{class:"login-title mb-2"}," CNX Library "),s("p",{class:"login-subtitle"}," 비밀번호 찾기 ")],-1)),n(C,{ref_key:"forgotPasswordForm",ref:_,"validate-on":"submit",onSubmit:H(k,["prevent"])},{default:o(()=>[n(h,{modelValue:e(l),"onUpdate:modelValue":t[0]||(t[0]=g=>I(l)?l.value=g:null),label:"이메일",type:"email","prepend-inner-icon":"mdi-email-outline",variant:"outlined",rules:w,disabled:e(m),class:"mb-2",density:"comfortable"},null,8,["modelValue","disabled"]),e(r)?(f(),p(v,{key:0,type:"error",variant:"tonal",closable:"",class:"error-alert mb-4","onClick:close":t[1]||(t[1]=g=>r.value="")},{default:o(()=>[d(x(e(r)),1)]),_:1})):b("",!0),e(c)?(f(),p(v,{key:1,type:"success",variant:"tonal",class:"success-alert mb-4"},{default:o(()=>[d(x(e(c)),1)]),_:1})):b("",!0),n(V,{type:"submit",block:"",size:"large",loading:e(m),disabled:e(m),class:"submit-btn",elevation:"2"},{default:o(()=>[...t[2]||(t[2]=[d(" 비밀번호 재설정 이메일 발송 ",-1)])]),_:1},8,["loading","disabled"])]),_:1},512),s("div",z,[n(N,{to:"/login",class:"auth-link"},{default:o(()=>[...t[3]||(t[3]=[d(" 로그인 ",-1)])]),_:1})]),s("div",A,[s("div",D,[n(L),t[4]||(t[4]=s("span",{class:"credit-text"},"© rarecat",-1))])])]),_:1})]),_:1})}}},q=F(J,[["__scopeId","data-v-cfc628aa"]]);export{q as default};
