import{C as d,D as s,E as u,q as n}from"./CYHXfN70.js";import{u as f}from"./Cg9d5cTh.js";const p=d(async(l,h)=>{let e,t;const{isAuthenticated:i,loading:o}=f(),r=s("auth_state_ready");if(!s("auth_initialized",()=>!1).value&&r.value)try{[e,t]=u(()=>Promise.race([r.value,new Promise(a=>setTimeout(a,5e3))])),await e,t()}catch(a){console.error("인증 상태 확인 대기 중 오류:",a)}if(o.value){const c=Date.now();for(;o.value&&Date.now()-c<5e3;)[e,t]=u(()=>new Promise(m=>setTimeout(m,50))),await e,t()}if(l.path==="/login")return i.value?n("/"):void 0;if(!i.value)return n("/login")});export{p as default};
