<template>
  <div class="guide-page">
    <div class="page-header">
      <h1>ğŸ’» ê°œë°œì ê°€ì´ë“œ</h1>
      <p class="subtitle">CNX Library í”„ë¡œì íŠ¸ ê°œë°œ ë° ìœ ì§€ë³´ìˆ˜ ê°€ì´ë“œ</p>
    </div>
    
    <div class="guide-content">
      <!-- ëª©ì°¨ -->
      <nav class="toc">
        <h2>ğŸ“‘ ëª©ì°¨</h2>
        <ul>
          <li><a href="#overview">í”„ë¡œì íŠ¸ ê°œìš”</a></li>
          <li><a href="#tech-stack">ê¸°ìˆ  ìŠ¤íƒ</a></li>
          <li><a href="#structure">í”„ë¡œì íŠ¸ êµ¬ì¡°</a></li>
          <li><a href="#setup">ì„¤ì¹˜ ë° ì‹¤í–‰</a></li>
          <li><a href="#firebase">Firebase ì„¤ì •</a></li>
          <li><a href="#firestore">Firestore ìŠ¤í‚¤ë§ˆ</a></li>
          <li><a href="#functions">Cloud Functions</a></li>
          <li><a href="#email">ì´ë©”ì¼ ì•Œë¦¼</a></li>
          <li><a href="#aladin">ì•Œë¼ë”˜ API</a></li>
          <li><a href="#deploy">ë°°í¬</a></li>
          <li><a href="#troubleshoot">íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</a></li>
          <li><a href="#tips">ê°œë°œ ì‹œ ì£¼ì˜ì‚¬í•­</a></li>
        </ul>
      </nav>

      <!-- í”„ë¡œì íŠ¸ ê°œìš” -->
      <section id="overview" class="guide-section">
        <h2>ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”</h2>
        <div class="section-content">
          <p>CNX LibraryëŠ” Concentrix ì‚¬ë‚´ ë„ì„œê´€ ê´€ë¦¬ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ì§ì›ë“¤ì´ ë„ì„œë¥¼ ê²€ìƒ‰í•˜ê³  ëŒ€ì—¬/ë°˜ë‚©í•  ìˆ˜ ìˆìœ¼ë©°, ê´€ë¦¬ìëŠ” ë„ì„œë¥¼ ë“±ë¡í•˜ê³  ëŒ€ì—¬ í˜„í™©ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
          
          <div class="feature-grid">
            <div class="feature-card">
              <h4>ğŸ‘¤ ì‚¬ìš©ì ê¸°ëŠ¥</h4>
              <ul>
                <li>ë„ì„œ ê²€ìƒ‰ ë° ëª©ë¡ ì¡°íšŒ</li>
                <li>ë„ì„œ ëŒ€ì—¬/ë°˜ë‚© (ìµœëŒ€ 5ê¶Œ, ë‹¤ê¶Œ ê°€ëŠ¥)</li>
                <li>ë„ì„œ ë“±ë¡ ì‹ ì²­</li>
                <li>ëŒ€ì—¬ í˜„í™© ë° ì½ì€ ì±… ëª©ë¡</li>
                <li>ìœ„ì¹˜ ì•ˆë‚´ íŒì—… (ì„œê°€ ìœ„ì¹˜ í™•ì¸)</li>
                <li>ì •ë³´ ìˆ˜ì • (ì´ë¦„, ê·¼ë¬´ì§€ ë³€ê²½)</li>
                <li>ì•Œë¦¼ ìˆ˜ì‹  (ì›¹ + ì´ë©”ì¼)</li>
              </ul>
            </div>
            <div class="feature-card">
              <h4>âš™ï¸ ê´€ë¦¬ì ê¸°ëŠ¥ (ë§¤ë‹ˆì €)</h4>
              <ul>
                <li>ëª¨ë“  ì‚¬ìš©ì ê¸°ëŠ¥ í¬í•¨</li>
                <li>ë„ì„œ ë“±ë¡ (ê²€ìƒ‰/ì§ì ‘ ë“±ë¡, ë‹¤ê¶Œ ë“±ë¡)</li>
                <li>ë„ì„œ ì‚­ì œ</li>
                <li>ë„ì„œ ì •ë³´ ìˆ˜ì • (ì¹´í…Œê³ ë¦¬, ë¼ë²¨ë²ˆí˜¸, ìœ„ì¹˜)</li>
                <li>ë„ì„œ ì‹ ì²­ ìŠ¹ì¸</li>
                <li>ëŒ€ì—¬ ì²˜ë¦¬ (íƒ€ ì„¼í„° ëŒ€ì—¬ ì‹ ì²­ ìŠ¹ì¸)</li>
                <li>ë°˜ë‚© ì²˜ë¦¬</li>
                <li>ì„¼í„° ë³€ê²½ (ëª¨ë“  ì„¼í„° ê´€ë¦¬ ê°€ëŠ¥)</li>
              </ul>
            </div>
            <div class="feature-card">
              <h4>ğŸ‘‘ ìµœê³ ê´€ë¦¬ì ê¸°ëŠ¥</h4>
              <ul>
                <li>ë§¤ë‹ˆì € ê´€ë¦¬ (ì§€ì •/í•´ì œ)</li>
                <li>ëª¨ë“  ê´€ë¦¬ì ê¸°ëŠ¥ í¬í•¨</li>
              </ul>
            </div>
          </div>

          <div class="info-box">
            <h4>ğŸ“ ì„¼í„°-ê·¼ë¬´ì§€ ë§¤í•‘</h4>
            <div class="code-block">
              <pre>// utils/centerMapping.js
const WORKPLACE_CENTER_MAP = {
  'ê°•ë‚¨': 'ê°•ë‚¨ì„¼í„°',
  'ì ì‹¤': 'ê°•ë‚¨ì„¼í„°',
  'ìˆ˜ì›': 'ê°•ë‚¨ì„¼í„°',
  'íŒêµ': 'ê°•ë‚¨ì„¼í„°',
  'ìš©ì‚°': 'ìš©ì‚°ì„¼í„°',
  'ì¦ë¯¸': 'ìš©ì‚°ì„¼í„°',
  'ì—¬ì˜ë„': 'ìš©ì‚°ì„¼í„°'
}</pre>
            </div>
          </div>
        </div>
      </section>

      <!-- ê¸°ìˆ  ìŠ¤íƒ -->
      <section id="tech-stack" class="guide-section">
        <h2>ğŸ›  ê¸°ìˆ  ìŠ¤íƒ</h2>
        <div class="section-content">
          <table class="data-table">
            <thead>
              <tr>
                <th>ë¶„ë¥˜</th>
                <th>ê¸°ìˆ </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Frontend</strong></td>
                <td>Nuxt 3, Vue 3, Vuetify 3</td>
              </tr>
              <tr>
                <td><strong>Backend</strong></td>
                <td>Firebase (Authentication, Firestore, Functions)</td>
              </tr>
              <tr>
                <td><strong>ì™¸ë¶€ API</strong></td>
                <td>ë„¤ì´ë²„ ë„ì„œ API (ë„ì„œ ê²€ìƒ‰), ì•Œë¼ë”˜ Open API (ë² ìŠ¤íŠ¸ì…€ëŸ¬)</td>
              </tr>
              <tr>
                <td><strong>ì´ë©”ì¼</strong></td>
                <td>Nodemailer + Gmail SMTP (ì¸ì¦/ì•Œë¦¼ ë©”ì¼ ë°œì†¡)</td>
              </tr>
              <tr>
                <td><strong>ìŠ¤íƒ€ì¼ë§</strong></td>
                <td>SCSS, Vuetify</td>
              </tr>
              <tr>
                <td><strong>ë°°í¬</strong></td>
                <td>GitHub Pages</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- í”„ë¡œì íŠ¸ êµ¬ì¡° -->
      <section id="structure" class="guide-section">
        <h2>ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°</h2>
        <div class="section-content">
          <div class="code-block">
            <pre>cnx-library/
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ scss/
â”‚       â”œâ”€â”€ _variables.scss   # SCSS ë³€ìˆ˜ (ìƒ‰ìƒ, breakpoint ë“±)
â”‚       â”œâ”€â”€ functions.scss    # SCSS í•¨ìˆ˜ (rem ë³€í™˜ ë“±)
â”‚       â””â”€â”€ main.scss         # ì „ì—­ ìŠ¤íƒ€ì¼
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ BookCard.vue          # ë„ì„œ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ BookListSwiper.vue    # ë„ì„œ ëª©ë¡ ìŠ¤ì™€ì´í¼
â”‚   â”œâ”€â”€ ConcentrixLogo.vue    # ë¡œê³  ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ GlobalDialog.vue      # ì „ì—­ ë‹¤ì´ì–¼ë¡œê·¸ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ LocationGuidePopup.vue # ìœ„ì¹˜ ì•ˆë‚´ íŒì—…
â”‚   â”œâ”€â”€ NotificationBell.vue  # ì•Œë¦¼ ë²¨ (í—¤ë”)
â”‚   â”œâ”€â”€ PageLayout.vue        # í˜ì´ì§€ ë ˆì´ì•„ì›ƒ
â”‚   â””â”€â”€ SideNavigation.vue    # ì‚¬ì´ë“œ ë„¤ë¹„ê²Œì´ì…˜
â”œâ”€â”€ composables/
â”‚   â”œâ”€â”€ useAuth.js            # ì¸ì¦ ê´€ë ¨ ë¡œì§
â”‚   â”œâ”€â”€ useBooks.js           # ë„ì„œ ê´€ë ¨ ë¡œì§ (ë„¤ì´ë²„/ì•Œë¼ë”˜ API)
â”‚   â”œâ”€â”€ useDialog.js          # ë‹¤ì´ì–¼ë¡œê·¸ ìƒíƒœ ê´€ë¦¬
â”‚   â”œâ”€â”€ useDrawer.js          # Navigation Drawer ìƒíƒœ ê´€ë¦¬
â”‚   â”œâ”€â”€ useNotifications.js   # ì•Œë¦¼ ê´€ë ¨ ë¡œì§
â”‚   â”œâ”€â”€ useTestScenario.js    # í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ê´€ë¦¬
â”‚   â””â”€â”€ useUser.js            # ì‚¬ìš©ì Firestore ë°ì´í„° ê´€ë¦¬
â”œâ”€â”€ functions/
â”‚   â”œâ”€â”€ index.js              # Firebase Cloud Functions
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ .env                  # í™˜ê²½ ë³€ìˆ˜ (Git ì œì™¸)
â”œâ”€â”€ middleware/
â”‚   â”œâ”€â”€ admin.js              # ê´€ë¦¬ì/ìµœê³ ê´€ë¦¬ì ê¶Œí•œ ì²´í¬
â”‚   â””â”€â”€ auth.js               # ì¸ì¦ ì²´í¬
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”œâ”€â”€ managers/         # ë§¤ë‹ˆì € ê´€ë¦¬ (ìµœê³ ê´€ë¦¬ì ì „ìš©)
â”‚   â”‚   â””â”€â”€ books/            # ë„ì„œ ë“±ë¡/ê´€ë¦¬
â”‚   â”œâ”€â”€ test-scenario/        # í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ (ê°œë°œì/QA ì „ìš©)
â”‚   â”‚   â””â”€â”€ sessions/         # í…ŒìŠ¤íŠ¸ ì„¸ì…˜ ê´€ë¦¬
â”‚   â””â”€â”€ ...                   # ê¸°íƒ€ ë¼ìš°íŠ¸ í˜ì´ì§€ë“¤
â”œâ”€â”€ plugins/
â”‚   â”œâ”€â”€ firebase.client.js    # Firebase ì´ˆê¸°í™”
â”‚   â””â”€â”€ vuetify.js            # Vuetify ì„¤ì •
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ centerMapping.js      # ì„¼í„°-ê·¼ë¬´ì§€ ë§¤í•‘
â”‚   â”œâ”€â”€ labelConfig.js        # ë¼ë²¨ë²ˆí˜¸ ì„¤ì • ë° ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ locationCoordinates.js # ìœ„ì¹˜ ì¢Œí‘œ (ì„œê°€ ì´ë¯¸ì§€)
â”‚   â””â”€â”€ testScenarioData.js   # í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ë°ì´í„°
â”œâ”€â”€ firebase.json             # Firebase ì„¤ì •
â”œâ”€â”€ firestore.rules           # Firestore ë³´ì•ˆ ê·œì¹™
â””â”€â”€ firestore.indexes.json    # Firestore ì¸ë±ìŠ¤</pre>
          </div>
        </div>
      </section>

      <!-- ì„¤ì¹˜ ë° ì‹¤í–‰ -->
      <section id="setup" class="guide-section">
        <h2>ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰</h2>
        <div class="section-content">
          <h3>ì‚¬ì „ ìš”êµ¬ì‚¬í•­</h3>
          <ul>
            <li>Node.js 20.x ì´ìƒ</li>
            <li>npm ë˜ëŠ” yarn</li>
            <li>Firebase CLI (<code>npm install -g firebase-tools</code>)</li>
          </ul>

          <h3>ì„¤ì¹˜</h3>
          <div class="code-block">
            <pre># ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/rarecat85/cnx-library.git
cd cnx-library

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# Functions ì˜ì¡´ì„± ì„¤ì¹˜
cd functions
npm install
cd ..</pre>
          </div>

          <h3>í™˜ê²½ ë³€ìˆ˜ ì„¤ì •</h3>
          
          <h4>1. ë£¨íŠ¸ .env íŒŒì¼</h4>
          <div class="code-block">
            <pre># .env
NUXT_PUBLIC_FIREBASE_API_KEY=your_api_key
NUXT_PUBLIC_FIREBASE_AUTH_DOMAIN=cnx-library.firebaseapp.com
NUXT_PUBLIC_FIREBASE_PROJECT_ID=cnx-library
NUXT_PUBLIC_FIREBASE_STORAGE_BUCKET=cnx-library.appspot.com
NUXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
NUXT_PUBLIC_FIREBASE_APP_ID=your_app_id</pre>
          </div>

          <h4>2. Functions .env íŒŒì¼</h4>
          <div class="code-block">
            <pre># functions/.env
ALADIN_TTB_KEY=your_aladin_ttb_key
NAVER_CLIENT_ID=your_naver_client_id
NAVER_CLIENT_SECRET=your_naver_client_secret
GMAIL_USER=cnx.library.noreply@gmail.com
GMAIL_APP_PASSWORD=your_gmail_app_password</pre>
          </div>

          <h3>ë¡œì»¬ ì‹¤í–‰</h3>
          <div class="code-block">
            <pre># ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:5001 ì ‘ì†</pre>
          </div>
        </div>
      </section>

      <!-- Firebase ì„¤ì • -->
      <section id="firebase" class="guide-section">
        <h2>ğŸ”¥ Firebase ì„¤ì •</h2>
        <div class="section-content">
          <h3>Firebase Console ì„¤ì •</h3>
          
          <div class="step-cards">
            <div class="step-card">
              <div class="step-header">
                <span class="step-number">1</span>
                <h4>Authentication</h4>
              </div>
              <ul>
                <li>ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸ í™œì„±í™”</li>
                <li>Authorized domainsì— ì¶”ê°€:
                  <ul>
                    <li><code>localhost</code></li>
                    <li><code>cnx-library.web.app</code></li>
                    <li><code>rarecat85.github.io</code></li>
                  </ul>
                </li>
                <li>ì´ë©”ì¼ ì¸ì¦/ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •: ìì²´ í† í° ì‹œìŠ¤í…œ ì‚¬ìš©<br><small style="color: #888;">(Firebase Action URL ë¯¸ì‚¬ìš©)</small></li>
              </ul>
            </div>
            
            <div class="step-card">
              <div class="step-header">
                <span class="step-number">2</span>
                <h4>Firestore Database</h4>
              </div>
              <ul>
                <li>ë³´ì•ˆ ê·œì¹™: <code>firestore.rules</code> íŒŒì¼ ì°¸ì¡°</li>
                <li>ì¸ë±ìŠ¤: <code>firestore.indexes.json</code> íŒŒì¼ ì°¸ì¡°</li>
              </ul>
            </div>
            
            <div class="step-card">
              <div class="step-header">
                <span class="step-number">3</span>
                <h4>Functions</h4>
              </div>
              <ul>
                <li>Node.js 20 ëŸ°íƒ€ì„ ì‚¬ìš©</li>
                <li>ìŠ¤ì¼€ì¤„ëŸ¬: Cloud Scheduler ì—°ë™</li>
              </ul>
            </div>
          </div>

          <h3>Firebase CLI ë¡œê·¸ì¸</h3>
          <div class="code-block">
            <pre>npx firebase login</pre>
          </div>
        </div>
      </section>

      <!-- Firestore ìŠ¤í‚¤ë§ˆ -->
      <section id="firestore" class="guide-section">
        <h2>ğŸ“Š Firestore ë°ì´í„° êµ¬ì¡°</h2>
        <div class="section-content">
          <h3>Collections</h3>
          
          <div class="schema-card">
            <h4>users</h4>
            <div class="code-block">
              <pre>{
  uid: string,
  email: string,
  name: string,
  workplace: string,           // ê·¼ë¬´ì§€ (ê°•ë‚¨, ìš©ì‚°, ì ì‹¤ ë“±)
  role: string,                // 'user'(ê¸°ë³¸) | 'manager' | 'admin'
  center: string,              // ë§¤ë‹ˆì €/ê´€ë¦¬ì ì†Œì† ì„¼í„° (ì„ íƒ)
  emailVerified: boolean,
  receiveEmailNotifications: boolean,  // ì´ë©”ì¼ ì•Œë¦¼ ìˆ˜ì‹ 
  createdAt: timestamp,
  updatedAt: timestamp
}</pre>
            </div>
            <p class="schema-note">* íšŒì›ê°€ì… ì‹œ <code>role: 'user'</code>ê°€ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •ë¨</p>
            <p class="schema-note">* ìµœê³ ê´€ë¦¬ìê°€ ë§¤ë‹ˆì € ì§€ì • ì‹œ <code>center</code> í•„ë“œê°€ ìë™ ë°°ì •ë¨</p>
          </div>

          <div class="schema-card">
            <h4>books</h4>
            <div class="code-block">
              <pre>{
  isbn: string,
  isbn13: string,
  title: string,
  author: string,
  publisher: string,
  image: string,               // í‘œì§€ ì´ë¯¸ì§€ URL
  cover: string,               // í‘œì§€ ì´ë¯¸ì§€ URL (alias)
  center: string,              // ì†Œì† ì„¼í„° (ê°•ë‚¨ì„¼í„°, ìš©ì‚°ì„¼í„°)
  category: string,            // ë„ì„œ ì¹´í…Œê³ ë¦¬
  labelNumber: string,         // ë¼ë²¨ë²ˆí˜¸ (ì˜ˆ: êµ­ë‚´ì†Œì„¤_20001)
  location: string,            // ìœ„ì¹˜ (êµ¬ë§¤ì¹¸, ê¸°ë¶€ì¹¸, 1~16)
  status: string,              // 'available' | 'rented' | 'requested'
  rentedBy: string,            // ëŒ€ì—¬ì UID
  rentedAt: timestamp,
  expectedReturnDate: timestamp,
  requestedBy: string,         // ëŒ€ì—¬ ì‹ ì²­ì UID
  registeredBy: string,
  registeredAt: timestamp
}</pre>
            </div>
            <p class="schema-note">* <code>labelNumber</code>ëŠ” ê³ ìœ í•´ì•¼ í•¨</p>
            <p class="schema-note">* <code>location</code>ì´ 'êµ¬ë§¤ì¹¸'ì¸ ë„ì„œëŠ” NEW í‘œì‹œë¨</p>
          </div>

          <div class="schema-card">
            <h4>bookRequests</h4>
            <div class="code-block">
              <pre>{
  isbn13: string,
  title: string,
  author: string,
  publisher: string,
  cover: string,
  center: string,
  status: string,              // 'pending' | 'approved' | 'rejected'
  requestedBy: string,
  requestedAt: timestamp
}</pre>
            </div>
          </div>

          <div class="schema-card">
            <h4>notifications</h4>
            <div class="code-block">
              <pre>{
  userId: string,
  type: string,                // ì•Œë¦¼ íƒ€ì… (ì•„ë˜ í‘œ ì°¸ì¡°)
  title: string,
  message: string,
  isRead: boolean,
  createdAt: timestamp,
  expiresAt: timestamp,        // 30ì¼ í›„ ìë™ ì‚­ì œ
  bookId: string,
  bookTitle: string,
  center: string
}</pre>
            </div>
          </div>

          <h3>ì•Œë¦¼ íƒ€ì…</h3>
          <table class="data-table">
            <thead>
              <tr>
                <th>íƒ€ì…</th>
                <th>ì„¤ëª…</th>
                <th>ëŒ€ìƒ</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>book_request</code></td>
                <td>ë„ì„œ ë“±ë¡ ì‹ ì²­</td>
                <td>ê´€ë¦¬ì</td>
              </tr>
              <tr>
                <td><code>rent_request</code></td>
                <td>ë„ì„œ ëŒ€ì—¬ ì‹ ì²­</td>
                <td>ê´€ë¦¬ì</td>
              </tr>
              <tr>
                <td><code>book_registered</code></td>
                <td>ì‹ ì²­ ë„ì„œ ë“±ë¡ ì™„ë£Œ</td>
                <td>ì‹ ì²­ì</td>
              </tr>
              <tr>
                <td><code>return_reminder</code></td>
                <td>ë°˜ë‚© ì˜ˆì •ì¼ 1ì¼ ì „</td>
                <td>ëŒ€ì—¬ì</td>
              </tr>
              <tr>
                <td><code>overdue</code></td>
                <td>ì—°ì²´ ì•Œë¦¼</td>
                <td>ëŒ€ì—¬ì</td>
              </tr>
              <tr>
                <td><code>overdue_admin</code></td>
                <td>ì—°ì²´ ì•Œë¦¼</td>
                <td>ê´€ë¦¬ì</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Cloud Functions -->
      <section id="functions" class="guide-section">
        <h2>ğŸ”§ Cloud Functions</h2>
        <div class="section-content">
          <h3>í•¨ìˆ˜ ëª©ë¡</h3>
          <table class="data-table">
            <thead>
              <tr>
                <th>í•¨ìˆ˜</th>
                <th>íƒ€ì…</th>
                <th>ì„¤ëª…</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>updateEmailVerificationStatus</code></td>
                <td>onCall</td>
                <td>ì´ë©”ì¼ ì¸ì¦ ìƒíƒœ ì—…ë°ì´íŠ¸</td>
              </tr>
              <tr>
                <td><code>resendVerificationEmailWithReset</code></td>
                <td>onCall</td>
                <td>ì¬ì¸ì¦ ì´ë©”ì¼ ë°œì†¡</td>
              </tr>
              <tr>
                <td><code>searchNaverBooks</code></td>
                <td>onCall</td>
                <td>ë„¤ì´ë²„ ë„ì„œ ê²€ìƒ‰ (êµ­ë‚´/ì™¸êµ­)</td>
              </tr>
              <tr>
                <td><code>getAladinBestsellers</code></td>
                <td>onCall</td>
                <td>ì•Œë¼ë”˜ ë² ìŠ¤íŠ¸ì…€ëŸ¬ ì¡°íšŒ</td>
              </tr>
              <tr>
                <td><code>onBookRequestCreated</code></td>
                <td>Firestore Trigger</td>
                <td>ë„ì„œ ì‹ ì²­ ì‹œ ê´€ë¦¬ì ì•Œë¦¼</td>
              </tr>
              <tr>
                <td><code>onRentRequestCreated</code></td>
                <td>Firestore Trigger</td>
                <td>ëŒ€ì—¬ ì‹ ì²­ ì‹œ ê´€ë¦¬ì ì•Œë¦¼</td>
              </tr>
              <tr>
                <td><code>onBookRequestApproved</code></td>
                <td>Firestore Trigger</td>
                <td>ì‹ ì²­ ìŠ¹ì¸ ì‹œ ì‚¬ìš©ì ì•Œë¦¼</td>
              </tr>
              <tr>
                <td><code>scheduledNotifications</code></td>
                <td>Scheduled</td>
                <td>ë§¤ì¼ 09:00 ë°˜ë‚©/ì—°ì²´ ì•Œë¦¼</td>
              </tr>
            </tbody>
          </table>

          <h3>Functions ë¡œê·¸ í™•ì¸</h3>
          <div class="code-block">
            <pre>npx firebase functions:log</pre>
          </div>
        </div>
      </section>

      <!-- ì´ë©”ì¼ ì•Œë¦¼ -->
      <section id="email" class="guide-section">
        <h2>ğŸ“§ ì´ë©”ì¼ ì•Œë¦¼ ì„¤ì •</h2>
        <div class="section-content">
          <h3>ì´ë©”ì¼ ë°œì†¡ ì¢…ë¥˜</h3>
          <table class="data-table">
            <thead>
              <tr>
                <th>ì¢…ë¥˜</th>
                <th>ë°œì†¡ ì‹œì </th>
                <th>ëŒ€ìƒ</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>íšŒì›ê°€ì… ì¸ì¦</strong></td>
                <td>íšŒì›ê°€ì… ì‹œ (Firebase Auth)</td>
                <td>ê°€ì…ì</td>
              </tr>
              <tr>
                <td><strong>ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •</strong></td>
                <td>ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸° ìš”ì²­ ì‹œ (Firebase Auth)</td>
                <td>ìš”ì²­ì</td>
              </tr>
              <tr>
                <td><strong>ë„ì„œ ë“±ë¡ ì‹ ì²­ ì•Œë¦¼</strong></td>
                <td>ì‚¬ìš©ìê°€ ë„ì„œ ì‹ ì²­ ì‹œ</td>
                <td>ê´€ë¦¬ì (ì´ë©”ì¼ ì•Œë¦¼ í™œì„±í™”ëœ ê²½ìš°)</td>
              </tr>
              <tr>
                <td><strong>ë„ì„œ ëŒ€ì—¬ ì‹ ì²­ ì•Œë¦¼</strong></td>
                <td>íƒ€ ì„¼í„° ë„ì„œ ëŒ€ì—¬ ì‹ ì²­ ì‹œ</td>
                <td>ê´€ë¦¬ì (ì´ë©”ì¼ ì•Œë¦¼ í™œì„±í™”ëœ ê²½ìš°)</td>
              </tr>
              <tr>
                <td><strong>ì‹ ì²­ ë„ì„œ ë“±ë¡ ì•Œë¦¼</strong></td>
                <td>ê´€ë¦¬ìê°€ ì‹ ì²­ ë„ì„œ ë“±ë¡ ì‹œ</td>
                <td>ì‹ ì²­ì (ì´ë©”ì¼ ì•Œë¦¼ í™œì„±í™”ëœ ê²½ìš°)</td>
              </tr>
              <tr>
                <td><strong>ë°˜ë‚© ì˜ˆì • ì•Œë¦¼</strong></td>
                <td>ë°˜ë‚©ì˜ˆì •ì¼ 1ì¼ ì „ (ë§¤ì¼ 09:00)</td>
                <td>ëŒ€ì—¬ì (ì´ë©”ì¼ ì•Œë¦¼ í™œì„±í™”ëœ ê²½ìš°)</td>
              </tr>
              <tr>
                <td><strong>ì—°ì²´ ì•Œë¦¼</strong></td>
                <td>ë°˜ë‚©ì˜ˆì •ì¼ ì´ˆê³¼ ì‹œ (ë§¤ì¼ 09:00)</td>
                <td>ëŒ€ì—¬ì/ê´€ë¦¬ì (ì´ë©”ì¼ ì•Œë¦¼ í™œì„±í™”ëœ ê²½ìš°)</td>
              </tr>
            </tbody>
          </table>
          
          <div class="info-box">
            <h4>ğŸ’¡ ì´ë©”ì¼ ì•Œë¦¼ í™œì„±í™” ì¡°ê±´</h4>
            <ul>
              <li>ì‚¬ìš©ìê°€ ì•Œë¦¼ í˜ì´ì§€ì—ì„œ "ì´ë©”ì¼ë¡œ ì•Œë¦¼ ë°›ê¸°" í† ê¸€ í™œì„±í™”</li>
              <li>Firestore <code>users</code> ì»¬ë ‰ì…˜ì˜ <code>receiveEmailNotifications: true</code></li>
              <li>íšŒì›ê°€ì… ì¸ì¦, ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •ì€ ì„¤ì •ê³¼ ë¬´ê´€í•˜ê²Œ í•­ìƒ ë°œì†¡</li>
            </ul>
          </div>

          <h3>Gmail ì•± ë¹„ë°€ë²ˆí˜¸ ë°œê¸‰</h3>
          <ol class="step-list">
            <li>
              <span class="step-number">1</span>
              <div class="step-content">
                <strong>Google ê³„ì • 2ë‹¨ê³„ ì¸ì¦ í™œì„±í™”</strong>
                <p>ë³´ì•ˆ > 2ë‹¨ê³„ ì¸ì¦ í™œì„±í™”</p>
              </div>
            </li>
            <li>
              <span class="step-number">2</span>
              <div class="step-content">
                <strong>ì•± ë¹„ë°€ë²ˆí˜¸ ìƒì„±</strong>
                <p><a href="https://myaccount.google.com/apppasswords" target="_blank">https://myaccount.google.com/apppasswords</a></p>
              </div>
            </li>
            <li>
              <span class="step-number">3</span>
              <div class="step-content">
                <strong>functions/.envì— ì„¤ì •</strong>
                <p>GMAIL_APP_PASSWORD=ìƒì„±ëœ_ë¹„ë°€ë²ˆí˜¸</p>
              </div>
            </li>
          </ol>

          <div class="info-box">
            <h4>ğŸ“¬ ì´ë©”ì¼ ë°œì†¡ ê³„ì •</h4>
            <ul>
              <li><strong>ë°œì‹ ì:</strong> cnx.library.noreply@gmail.com</li>
              <li><strong>ì•± ë¹„ë°€ë²ˆí˜¸:</strong> functions/.envì— ì €ì¥</li>
              <li><strong>ë°œì†¡ ë°©ì‹:</strong> Nodemailer + Gmail SMTP</li>
            </ul>
          </div>
        </div>
      </section>

      <!-- ì™¸ë¶€ API -->
      <section id="aladin" class="guide-section">
        <h2>ğŸ“± ì™¸ë¶€ API</h2>
        <div class="section-content">
          <h3>ë„¤ì´ë²„ ë„ì„œ API</h3>
          <p>ë„ì„œ ê²€ìƒ‰ì— ì‚¬ìš©ë©ë‹ˆë‹¤. êµ­ë‚´/ì™¸êµ­ ë„ì„œ ëª¨ë‘ ê²€ìƒ‰ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
          
          <ol class="step-list">
            <li>
              <span class="step-number">1</span>
              <div class="step-content">
                <strong>ë„¤ì´ë²„ ê°œë°œì ì„¼í„° ê°€ì…</strong>
                <p><a href="https://developers.naver.com" target="_blank">https://developers.naver.com</a></p>
              </div>
            </li>
            <li>
              <span class="step-number">2</span>
              <div class="step-content">
                <strong>ì• í”Œë¦¬ì¼€ì´ì…˜ ë“±ë¡ ë° API ì‚¬ìš© ì‹ ì²­</strong>
                <p>ê²€ìƒ‰ API > ë„ì„œ ê²€ìƒ‰ ì„ íƒ</p>
              </div>
            </li>
            <li>
              <span class="step-number">3</span>
              <div class="step-content">
                <strong>functions/.envì— ì„¤ì •</strong>
                <p>NAVER_CLIENT_ID=ë°œê¸‰ë°›ì€_ID<br>NAVER_CLIENT_SECRET=ë°œê¸‰ë°›ì€_SECRET</p>
              </div>
            </li>
          </ol>
          
          <div class="info-box">
            <h4>ğŸ’¡ ì„¸íŠ¸/ì „ì§‘ í•„í„°ë§</h4>
            <p>ê²€ìƒ‰ ê²°ê³¼ì—ì„œ ì„¸íŠ¸, ì „ì§‘, ë°•ìŠ¤ ë“±ì˜ í‚¤ì›Œë“œê°€ í¬í•¨ëœ ë„ì„œëŠ” ìë™ í•„í„°ë§ë©ë‹ˆë‹¤.</p>
            <ul>
              <li>í•œê¸€: ì„¸íŠ¸, ì „ì§‘, ë°•ìŠ¤, ì‹œë¦¬ì¦ˆ, ì „ê¶Œ, í•©ë³¸, ëª¨ìŒ ë“±</li>
              <li>ì˜ë¬¸: box, boxed set, collection, complete, omnibus ë“±</li>
            </ul>
          </div>
          
          <h3>ì•Œë¼ë”˜ API</h3>
          <p>ë² ìŠ¤íŠ¸ì…€ëŸ¬ ì¡°íšŒì— ì‚¬ìš©ë©ë‹ˆë‹¤.</p>
          
          <ol class="step-list">
            <li>
              <span class="step-number">1</span>
              <div class="step-content">
                <strong>ì•Œë¼ë”˜ Open API ê°€ì…</strong>
                <p><a href="https://www.aladin.co.kr/ttb/wblog_manage.aspx" target="_blank">https://www.aladin.co.kr/ttb/wblog_manage.aspx</a></p>
              </div>
            </li>
            <li>
              <span class="step-number">2</span>
              <div class="step-content">
                <strong>TTB í‚¤ ë°œê¸‰</strong>
                <p>ë¸”ë¡œê·¸ ë“±ë¡ í›„ TTB í‚¤ í™•ì¸</p>
              </div>
            </li>
            <li>
              <span class="step-number">3</span>
              <div class="step-content">
                <strong>functions/.envì— ì„¤ì •</strong>
                <p>ALADIN_TTB_KEY=ë°œê¸‰ë°›ì€_í‚¤</p>
              </div>
            </li>
          </ol>

          <h3>ì‚¬ìš© API ìš”ì•½</h3>
          <table class="data-table">
            <thead>
              <tr>
                <th>ì„œë¹„ìŠ¤</th>
                <th>API</th>
                <th>ìš©ë„</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>ë„¤ì´ë²„</td>
                <td>ë„ì„œ ê²€ìƒ‰</td>
                <td>ë„ì„œ ì‹ ì²­/ë“±ë¡ ì‹œ ê²€ìƒ‰ (ISBN-13 ì§€ì›)</td>
              </tr>
              <tr>
                <td>ì•Œë¼ë”˜</td>
                <td>ë² ìŠ¤íŠ¸ì…€ëŸ¬</td>
                <td>ë©”ì¸ í˜ì´ì§€ ë² ìŠ¤íŠ¸ì…€ëŸ¬</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- ë°°í¬ -->
      <section id="deploy" class="guide-section">
        <h2>ğŸ“¦ ë°°í¬</h2>
        <div class="section-content">
          <h3>Firebase Functions ë°°í¬</h3>
          <div class="code-block">
            <pre># Functions ë°°í¬
npx firebase deploy --only functions

# Firestore Rules ë°°í¬
npx firebase deploy --only firestore:rules

# Functions + Rules ë™ì‹œ ë°°í¬
npx firebase deploy --only functions,firestore:rules</pre>
          </div>

          <h3>GitHub Pages ë°°í¬</h3>
          <div class="code-block">
            <pre># ì •ì  ë¹Œë“œ
npm run generate

# gh-pages ë¸Œëœì¹˜ì— ë°°í¬ (ë³„ë„ ì„¤ì • í•„ìš”)</pre>
          </div>

          <h3>ë°°í¬ URL</h3>
          <div class="url-cards">
            <div class="url-card primary">
              <span class="url-label">GitHub Pages</span>
              <a href="https://rarecat85.github.io/cnx-library" target="_blank">https://rarecat85.github.io/cnx-library</a>
            </div>
          </div>
        </div>
      </section>

      <!-- íŠ¸ëŸ¬ë¸”ìŠˆíŒ… -->
      <section id="troubleshoot" class="guide-section">
        <h2>â— íŠ¸ëŸ¬ë¸”ìŠˆíŒ…</h2>
        <div class="section-content">
          <div class="troubleshoot-item">
            <h4>Firebase Functions ë°°í¬ ì˜¤ë¥˜</h4>
            <div class="code-block error">
              <pre>Error: In non-interactive mode but have no value for the following environment variables</pre>
            </div>
            <p><strong>í•´ê²°:</strong> <code>functions/.env</code> íŒŒì¼ì— í•„ìš”í•œ ë³€ìˆ˜ ì¶”ê°€</p>
          </div>

          <div class="troubleshoot-item">
            <h4>ì´ë©”ì¼ ë°œì†¡ ì‹¤íŒ¨</h4>
            <ol>
              <li>Gmail ì•± ë¹„ë°€ë²ˆí˜¸ í™•ì¸</li>
              <li>2ë‹¨ê³„ ì¸ì¦ í™œì„±í™” í™•ì¸</li>
              <li>Functions ë¡œê·¸ í™•ì¸: <code>npx firebase functions:log</code></li>
            </ol>
          </div>

          <div class="troubleshoot-item">
            <h4>Firestore ê¶Œí•œ ì˜¤ë¥˜</h4>
            <div class="code-block">
              <pre># firestore.rules í™•ì¸ í›„ ë°°í¬
npx firebase deploy --only firestore:rules</pre>
            </div>
          </div>

          <div class="troubleshoot-item">
            <h4>ì•Œë¦¼ì´ ì˜¤ì§€ ì•ŠìŒ</h4>
            <ol>
              <li>Cloud Functions ë°°í¬ í™•ì¸</li>
              <li>Functions ë¡œê·¸ì—ì„œ ì˜¤ë¥˜ í™•ì¸</li>
              <li>Firestore indexes ë°°í¬ í™•ì¸</li>
            </ol>
          </div>
        </div>
      </section>

      <!-- ê°œë°œ ì‹œ ì£¼ì˜ì‚¬í•­ -->
      <section id="tips" class="guide-section">
        <h2>ğŸ“ ê°œë°œ ì‹œ ì£¼ì˜ì‚¬í•­</h2>
        <div class="section-content">
          <div class="tip-grid">
            <div class="tip-card warning">
              <h4>âš ï¸ !important ì‚¬ìš© ìì œ</h4>
              <p>Vuetify ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ ì˜¤ë²„ë¼ì´ë“œ ì‹œì—ë§Œ ì œí•œì ìœ¼ë¡œ ì‚¬ìš©</p>
            </div>
            <div class="tip-card warning">
              <h4>âš ï¸ ì„¼í„° ë§¤í•‘ ìˆ˜ì • ì‹œ</h4>
              <p><code>utils/centerMapping.js</code>ì™€ <code>functions/index.js</code> ì–‘ìª½ ëª¨ë‘ ìˆ˜ì • í•„ìš”</p>
            </div>
            <div class="tip-card warning">
              <h4>âš ï¸ ë¼ë²¨ë²ˆí˜¸ ì²´ê³„</h4>
              <p><code>utils/labelConfig.js</code>ì—ì„œ ì¹´í…Œê³ ë¦¬, ì„¼í„°ì½”ë“œ, ìœ„ì¹˜ ì˜µì…˜ ê´€ë¦¬</p>
            </div>
            <div class="tip-card danger">
              <h4>ğŸš« í™˜ê²½ ë³€ìˆ˜</h4>
              <p><code>.env</code> íŒŒì¼ì€ Gitì— ì»¤ë°‹í•˜ì§€ ì•ŠìŒ (.gitignore í™•ì¸)</p>
            </div>
            <div class="tip-card info">
              <h4>â„¹ï¸ Functions ë°°í¬</h4>
              <p>ì½”ë“œ ìˆ˜ì • í›„ ë°˜ë“œì‹œ <code>firebase deploy --only functions</code> ì‹¤í–‰</p>
            </div>
            <div class="tip-card info">
              <h4>â„¹ï¸ ê¶Œí•œ ë³€ê²½</h4>
              <p>Firestore Consoleì—ì„œ <code>users</code> ì»¬ë ‰ì…˜ì˜ <code>role</code> í•„ë“œ ìˆ˜ì •</p>
            </div>
            <div class="tip-card info">
              <h4>â„¹ï¸ ëŒ€ì—¬ ê·œì •</h4>
              <p>ìµœëŒ€ 5ê¶Œ, ëŒ€ì—¬ê¸°ê°„ 7ì¼, ì—°ì²´ ì‹œ ì¶”ê°€ ëŒ€ì—¬ ë¶ˆê°€</p>
            </div>
            <div class="tip-card info">
              <h4>â„¹ï¸ NEW ë„ì„œ ë¡œì§</h4>
              <p><code>location === 'êµ¬ë§¤ì¹¸'</code>ì¸ ë„ì„œë§Œ NEW í‘œì‹œ (ë“±ë¡ì¼ê³¼ ë¬´ê´€)</p>
            </div>
          </div>
        </div>
      </section>

      <!-- ì‚¬ìš©ì ê¶Œí•œ -->
      <section class="guide-section">
        <h2>ğŸ” ì‚¬ìš©ì ê¶Œí•œ</h2>
        <div class="section-content">
          <table class="data-table">
            <thead>
              <tr>
                <th>ê¶Œí•œ</th>
                <th>ì„¤ëª…</th>
                <th>ì ‘ê·¼ ê°€ëŠ¥ í˜ì´ì§€</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>user</code></td>
                <td>ì¼ë°˜ ì‚¬ìš©ì</td>
                <td>ë„ì„œ ëª©ë¡, ë§ˆì´í˜ì´ì§€, ë„ì„œ ì‹ ì²­</td>
              </tr>
              <tr>
                <td><code>manager</code></td>
                <td>ë§¤ë‹ˆì €</td>
                <td>+ ê´€ë¦¬ì ë©”ë‰´ (ë„ì„œ ë“±ë¡/ê´€ë¦¬, ëª¨ë“  ì„¼í„° ì ‘ê·¼ ê°€ëŠ¥)</td>
              </tr>
              <tr>
                <td><code>admin</code></td>
                <td>ìµœê³  ê´€ë¦¬ì</td>
                <td>+ ìµœê³ ê´€ë¦¬ì ë©”ë‰´ (ë§¤ë‹ˆì € ê´€ë¦¬ - ì§€ì •/í•´ì œ)</td>
              </tr>
            </tbody>
          </table>

          <div class="info-box">
            <h4>ğŸ’¡ ì—­í• ë³„ ë©”ë‰´ ì ‘ê·¼</h4>
            <ul>
              <li><code>/admin/books/*</code> - manager, admin ì ‘ê·¼ ê°€ëŠ¥</li>
              <li><code>/admin/managers</code> - <strong>adminë§Œ</strong> ì ‘ê·¼ ê°€ëŠ¥</li>
            </ul>
            <p>ë¯¸ë“¤ì›¨ì–´(<code>middleware/admin.js</code>)ì—ì„œ ê²½ë¡œë³„ ê¶Œí•œ ì²´í¬ ìˆ˜í–‰</p>
          </div>
        </div>
      </section>
    </div>

    <div class="page-footer">
      <p>ğŸ”’ ì´ í˜ì´ì§€ëŠ” ìˆ¨ê²¨ì§„ í˜ì´ì§€ì…ë‹ˆë‹¤. URL ì§ì ‘ ì…ë ¥ìœ¼ë¡œë§Œ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
      <p>í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ëŠ” ê°œë°œíŒ€ìœ¼ë¡œ ì—°ë½í•´ì£¼ì„¸ìš”.</p>
    </div>
  </div>
</template>

<script setup>
definePageMeta({
  layout: 'page'
})

useHead({
  title: 'ê°œë°œì ê°€ì´ë“œ - CNX Library'
})
</script>

<style scoped lang="scss">
@use '~/assets/scss/functions' as *;

.guide-page {
  max-width: 1000px;
  margin: 0 auto;
  padding: rem(20);
  background-color: #fff;
}

.page-header {
  text-align: center;
  margin-bottom: rem(40);
  padding-bottom: rem(20);
  border-bottom: 3px solid #10b981;
  
  h1 {
    font-size: rem(32);
    font-weight: 700;
    color: #065f46;
    margin: 0 0 rem(10) 0;
  }
  
  .subtitle {
    font-size: rem(16);
    color: #666;
    margin: 0;
  }
}

.toc {
  background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
  padding: rem(25);
  border-radius: 12px;
  margin-bottom: rem(40);
  
  h2 {
    font-size: rem(18);
    color: #065f46;
    margin: 0 0 rem(15) 0;
  }
  
  ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    gap: rem(10);
    
    li a {
      display: block;
      padding: rem(8) rem(12);
      background: #fff;
      border-radius: 6px;
      color: #333;
      text-decoration: none;
      font-size: rem(13);
      transition: all 0.2s;
      
      &:hover {
        background: #065f46;
        color: #fff;
      }
    }
  }
}

.guide-section {
  margin-bottom: rem(50);
  scroll-margin-top: rem(20);
  
  h2 {
    font-size: rem(24);
    font-weight: 700;
    color: #065f46;
    margin: 0 0 rem(20) 0;
    padding-bottom: rem(10);
    border-bottom: 2px solid #e0e0e0;
  }
  
  h3 {
    font-size: rem(18);
    font-weight: 600;
    color: #333;
    margin: rem(25) 0 rem(15) 0;
  }
  
  h4 {
    font-size: rem(16);
    font-weight: 600;
    color: #444;
    margin: rem(20) 0 rem(10) 0;
  }
}

.section-content {
  p {
    font-size: rem(15);
    line-height: 1.8;
    color: #444;
    margin: rem(10) 0;
  }
  
  ul, ol {
    padding-left: rem(20);
    margin: rem(10) 0;
    
    li {
      font-size: rem(14);
      line-height: 1.8;
      color: #444;
    }
  }
  
  code {
    background: #f1f5f9;
    padding: rem(2) rem(6);
    border-radius: 4px;
    font-family: 'Monaco', 'Menlo', monospace;
    font-size: rem(13);
    color: #0f766e;
  }
  
  a {
    color: #0f766e;
    text-decoration: underline;
  }
}

.feature-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: rem(20);
  margin: rem(20) 0;
}

.feature-card {
  background: #f8fafc;
  padding: rem(20);
  border-radius: 10px;
  border: 1px solid #e2e8f0;
  
  h4 {
    margin: 0 0 rem(15) 0;
    font-size: rem(16);
    color: #065f46;
  }
  
  ul {
    list-style: none;
    padding: 0;
    margin: 0;
    
    li {
      font-size: rem(13);
      color: #555;
      padding: rem(5) 0;
      padding-left: rem(15);
      position: relative;
      
      &::before {
        content: 'â€¢';
        position: absolute;
        left: 0;
        color: #10b981;
      }
    }
  }
}

.code-block {
  background: #1e293b;
  padding: rem(15);
  border-radius: 8px;
  overflow-x: auto;
  margin: rem(15) 0;
  
  &.error {
    background: #7f1d1d;
  }
  
  pre {
    margin: 0;
    font-family: 'Monaco', 'Menlo', monospace;
    font-size: rem(13);
    color: #e2e8f0;
    line-height: 1.6;
    white-space: pre-wrap;
    word-break: break-all;
  }
}

.data-table {
  width: 100%;
  border-collapse: collapse;
  margin: rem(20) 0;
  font-size: rem(13);
  
  th, td {
    border: 1px solid #e2e8f0;
    padding: rem(10) rem(12);
    text-align: left;
  }
  
  th {
    background: #065f46;
    color: #fff;
    font-weight: 600;
  }
  
  tr:nth-child(even) {
    background: #f8fafc;
  }
  
  code {
    background: #e2e8f0;
    padding: rem(1) rem(4);
    border-radius: 3px;
    font-size: rem(12);
  }
}

.step-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: rem(15);
  margin: rem(20) 0;
}

.step-card {
  background: #f8fafc;
  padding: rem(20);
  border-radius: 10px;
  border-left: 4px solid #10b981;
  
  .step-header {
    display: flex;
    align-items: center;
    gap: rem(10);
    margin-bottom: rem(15);
    
    .step-number {
      width: 28px;
      height: 28px;
      background: #10b981;
      color: #fff;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: rem(14);
    }
    
    h4 {
      margin: 0;
      font-size: rem(15);
      color: #065f46;
    }
  }
  
  ul {
    margin: 0;
    padding-left: rem(20);
    
    li {
      font-size: rem(13);
      line-height: 1.8;
    }
    
    ul {
      margin-top: rem(5);
    }
  }
}

.step-list {
  list-style: none;
  padding: 0;
  margin: rem(15) 0;
  
  li {
    display: flex;
    gap: rem(15);
    margin-bottom: rem(20);
    
    .step-number {
      flex-shrink: 0;
      width: 32px;
      height: 32px;
      background: #10b981;
      color: #fff;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: rem(14);
    }
    
    .step-content {
      flex: 1;
      
      strong {
        display: block;
        font-size: rem(15);
        color: #333;
        margin-bottom: rem(5);
      }
      
      p {
        font-size: rem(14);
        color: #666;
        margin: 0;
      }
    }
  }
}

.schema-card {
  margin: rem(20) 0;
  
  h4 {
    background: #065f46;
    color: #fff;
    padding: rem(10) rem(15);
    margin: 0;
    border-radius: 8px 8px 0 0;
    font-size: rem(14);
  }
  
  .code-block {
    margin: 0;
    border-radius: 0 0 8px 8px;
  }
  
  .schema-note {
    font-size: rem(13);
    color: #666;
    margin: rem(8) 0 0 0;
    padding-left: rem(10);
    
    code {
      background: #e2e8f0;
      padding: rem(1) rem(4);
      border-radius: 3px;
      font-size: rem(12);
    }
  }
}

.info-box {
  background: #ecfdf5;
  border-left: 4px solid #10b981;
  padding: rem(20);
  border-radius: 0 8px 8px 0;
  margin: rem(20) 0;
  
  h4 {
    margin: 0 0 rem(10) 0;
    font-size: rem(15);
    color: #065f46;
  }
  
  ul {
    margin: 0;
    padding-left: rem(20);
  }
}

.url-cards {
  display: flex;
  flex-direction: column;
  gap: rem(10);
  margin: rem(20) 0;
}

.url-card {
  display: flex;
  align-items: center;
  gap: rem(15);
  padding: rem(15);
  background: #f8fafc;
  border-radius: 8px;
  border: 1px solid #e2e8f0;
  
  &.primary {
    background: #ecfdf5;
    border-color: #10b981;
  }
  
  .url-label {
    font-size: rem(13);
    font-weight: 600;
    color: #666;
    min-width: 150px;
  }
  
  a {
    font-size: rem(14);
    color: #0f766e;
  }
}

.troubleshoot-item {
  margin-bottom: rem(25);
  padding: rem(20);
  background: #fef2f2;
  border-radius: 8px;
  border-left: 4px solid #ef4444;
  
  h4 {
    margin: 0 0 rem(10) 0;
    color: #b91c1c;
  }
  
  p {
    margin: rem(10) 0 0 0;
  }
  
  ol {
    margin: rem(10) 0 0 0;
    padding-left: rem(20);
  }
}

.tip-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: rem(15);
  margin: rem(20) 0;
}

.tip-card {
  padding: rem(20);
  border-radius: 10px;
  border-left: 4px solid;
  
  &.warning {
    background: #fffbeb;
    border-color: #f59e0b;
    
    h4 { color: #92400e; }
  }
  
  &.danger {
    background: #fef2f2;
    border-color: #ef4444;
    
    h4 { color: #b91c1c; }
  }
  
  &.info {
    background: #ecfdf5;
    border-color: #10b981;
    
    h4 { color: #065f46; }
  }
  
  h4 {
    margin: 0 0 rem(10) 0;
    font-size: rem(14);
  }
  
  p {
    margin: 0;
    font-size: rem(13);
    color: #666;
    line-height: 1.6;
  }
}

.page-footer {
  margin-top: rem(50);
  padding-top: rem(20);
  border-top: 1px solid #e0e0e0;
  text-align: center;
  
  p {
    font-size: rem(13);
    color: #888;
    margin: rem(5) 0;
  }
}

@media (max-width: 768px) {
  .guide-page {
    padding: rem(15);
  }
  
  .page-header h1 {
    font-size: rem(24);
  }
  
  .toc ul {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .feature-grid,
  .step-cards,
  .tip-grid {
    grid-template-columns: 1fr;
  }
  
  .data-table {
    display: block;
    overflow-x: auto;
  }
  
  .url-card {
    flex-direction: column;
    align-items: flex-start;
    gap: rem(5);
    
    .url-label {
      min-width: auto;
    }
  }
}
</style>

